2025-06-06 00:15:45,758 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-06 00:15:45,765 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-06 00:15:47,838 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-06 00:15:50,876 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-06 00:15:50,880 - qmt_trading.position_manager - WARNING - SQLite数据库中缺少stock_name字段，使用股票代码作为默认值
2025-06-06 00:15:50,881 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-06-06 00:15:50,882 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-06-06 00:15:50,882 - qmt_trading.position_manager - INFO - 执行模拟交易全量数据刷新
2025-06-06 00:15:50,882 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-06 00:15:50,882 - qmt_trading.position_manager - INFO - 开始执行模拟交易全量数据刷新
2025-06-06 00:15:50,883 - qmt_trading.trading_executor - WARNING - 未配置交易账户ID，交易功能将不可用
2025-06-06 00:15:50,884 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-06-06 00:15:50,891 - qmt_trading.main - INFO - ==================================================
2025-06-06 00:15:50,895 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-06 00:15:50 
2025-06-06 00:15:50,897 - qmt_trading.main - INFO - ==================================================
2025-06-06 00:15:50,898 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-06 00:15:50,900 - qmt_trading.main - INFO - 系统初始化完成
2025-06-06 00:15:50,901 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-06 00:15:50,903 - qmt_trading.main - INFO - 下载 300250 的历史数据
2025-06-06 00:15:50,903 - qmt_trading.position_manager - INFO - 模拟交易全量刷新完成，更新了 6 只股票的数据
2025-06-06 00:15:52,198 - qmt_trading.position_manager - INFO - 513100 最高价变化：1.58 -> 1.44，重新计算止损价格
2025-06-06 00:15:52,198 - qmt_trading.position_manager - ERROR - 更新 513100 持仓Error: no such column: available
2025-06-06 00:15:52,389 - qmt_trading.position_manager - ERROR - 更新 600787 持仓Error: no such column: available
2025-06-06 00:15:52,557 - qmt_trading.position_manager - INFO - 002104 最高价变化：10.56 -> 8.51，重新计算止损价格
2025-06-06 00:15:52,557 - qmt_trading.position_manager - ERROR - 更新 002104 持仓Error: no such column: available
2025-06-06 00:15:52,572 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-06-06 00:15:53,965 - qmt_trading.position_manager - ERROR - 更新 300277 持仓Error: no such column: available
2025-06-06 00:15:54,095 - qmt_trading.main - INFO - 下载 300599 的历史数据
2025-06-06 00:15:54,383 - qmt_trading.position_manager - ERROR - 更新 300892 持仓Error: no such column: available
2025-06-06 00:15:54,535 - qmt_trading.position_manager - ERROR - 更新 301252 持仓Error: no such column: available
2025-06-06 00:15:55,698 - qmt_trading.main - INFO - 下载 300878 的历史数据
2025-06-06 00:15:56,241 - qmt_trading.data_manager - WARNING - 300878 过滤了 1 行空date数据
2025-06-06 00:15:57,253 - qmt_trading.main - INFO - 下载 601606 的历史数据
2025-06-06 00:15:58,823 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-06-06 00:16:00,301 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-06 00:16:00,302 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-06 00:16:00,315 - qmt_trading.indicator_calculator - INFO - 成功计算 300250 的技术指标，共 60 条记录
2025-06-06 00:16:00,320 - qmt_trading.indicator_calculator - WARNING - 数据长度不足以计算MA20，需要20条数据，实际10条
2025-06-06 00:16:00,320 - qmt_trading.indicator_calculator - WARNING - 数据长度不足以计算MA30，需要30条数据，实际10条
2025-06-06 00:16:00,321 - qmt_trading.indicator_calculator - WARNING - 数据长度不足以计算MA60，需要60条数据，实际10条
2025-06-06 00:16:00,322 - qmt_trading.indicator_calculator - WARNING - 数据长度不足以计算MACD，需要至少36条数据，实际10条
2025-06-06 00:16:00,331 - qmt_trading.indicator_calculator - INFO - 成功计算 300277 的技术指标，共 10 条记录
2025-06-06 00:16:00,349 - qmt_trading.indicator_calculator - INFO - 成功计算 300599 的技术指标，共 60 条记录
2025-06-06 00:16:00,360 - qmt_trading.indicator_calculator - INFO - 成功计算 300878 的技术指标，共 60 条记录
2025-06-06 00:16:00,373 - qmt_trading.indicator_calculator - INFO - 成功计算 601606 的技术指标，共 60 条记录
2025-06-06 00:16:00,388 - qmt_trading.indicator_calculator - INFO - 成功计算 603883 的技术指标，共 60 条记录
2025-06-06 00:16:00,389 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-06 00:16:00,389 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-06 00:16:00,389 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-06-06 00:16:00,390 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-06 00:16:00,390 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-06 00:16:00,392 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-06 00:16:00,393 - qmt_trading.main - INFO - 启动策略线程
2025-06-06 00:16:00,393 - qmt_trading.strategy - INFO - 开始执行交易策略
2025-06-06 00:16:00,393 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-06 00:16:00,394 - qmt_trading.main - INFO - 启动日志清理线程
2025-06-06 00:16:00,396 - qmt_trading.main - INFO - 启动Web服务器线程
2025-06-06 00:16:00,396 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-06-06 00:16:00,397 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-06 00:16:00,522 - qmt_trading.data_manager - ERROR - 保存 300250 的历史数据时出错: cannot commit - no transaction is active
2025-06-06 00:16:01,500 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-06-06 的历史数据，跳过更新最高价
2025-06-06 00:16:01,680 - qmt_trading.data_manager - ERROR - 保存 300277 的历史数据时出错: cannot commit - no transaction is active
2025-06-06 00:16:01,681 - qmt_trading.data_manager - ERROR - 保存 300277 的历史数据时出错: UNIQUE constraint failed: stock_daily_data.stock_code, stock_daily_data.date
2025-06-06 00:16:03,933 - qmt_trading.data_manager - WARNING - 300878 过滤了 1 行空date数据
2025-06-06 00:16:03,954 - qmt_trading.data_manager - WARNING - 300878 过滤了 1 行空date数据
2025-06-06 00:16:04,908 - qmt_trading.position_manager - WARNING - 600787 触发固定止损，当前价格: 5.91, 止损价格: 5.96
2025-06-06 00:16:04,913 - qmt_trading.position_manager - WARNING - 301252 触发固定止损，当前价格: 23.73, 止损价格: 31.99
2025-06-06 00:16:07,210 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-06-06 00:16:07,241 - qmt_trading.strategy - INFO - 交易策略执行完成
2025-06-06 00:16:15,486 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-06-06 的历史数据，跳过更新最高价
2025-06-06 00:16:17,984 - qmt_trading.position_manager - WARNING - 600787 触发固定止损，当前价格: 5.91, 止损价格: 5.96
2025-06-06 00:16:17,989 - qmt_trading.position_manager - WARNING - 301252 触发固定止损，当前价格: 23.73, 止损价格: 31.99
2025-06-06 00:16:30,898 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-06-06 的历史数据，跳过更新最高价
2025-06-06 00:16:33,052 - qmt_trading.position_manager - WARNING - 600787 触发固定止损，当前价格: 5.91, 止损价格: 5.96
2025-06-06 00:16:33,057 - qmt_trading.position_manager - WARNING - 301252 触发固定止损，当前价格: 23.73, 止损价格: 31.99
2025-06-06 00:16:37,550 - qmt_trading.strategy - INFO - 开始执行交易策略
2025-06-06 00:16:41,055 - qmt_trading.data_manager - WARNING - 300878 过滤了 1 行空date数据
2025-06-06 00:16:43,539 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-06-06 的历史数据，跳过更新最高价
2025-06-06 00:16:44,328 - qmt_trading.strategy - INFO - 交易策略执行完成
2025-06-06 00:16:46,531 - qmt_trading.position_manager - WARNING - 600787 触发固定止损，当前价格: 5.91, 止损价格: 5.96
2025-06-06 00:16:46,536 - qmt_trading.position_manager - WARNING - 301252 触发固定止损，当前价格: 23.73, 止损价格: 31.99
2025-06-06 00:16:52,146 - qmt_trading.position_manager - INFO - 执行模拟交易全量数据刷新
2025-06-06 00:16:52,147 - qmt_trading.position_manager - INFO - 开始执行模拟交易全量数据刷新
2025-06-06 00:16:52,158 - qmt_trading.position_manager - INFO - 模拟交易全量刷新完成，更新了 6 只股票的数据
2025-06-06 00:16:56,780 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-06-06 的历史数据，跳过更新最高价
2025-06-06 00:17:01,261 - qmt_trading.position_manager - WARNING - 600787 触发固定止损，当前价格: 5.91, 止损价格: 5.96
2025-06-06 00:17:01,266 - qmt_trading.position_manager - WARNING - 301252 触发固定止损，当前价格: 23.73, 止损价格: 31.99
2025-06-06 00:17:07,831 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-06-06 00:17:11,336 - qmt_trading.data_manager - WARNING - 300878 过滤了 1 行空date数据
2025-06-06 00:17:11,677 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-06-06 的历史数据，跳过更新最高价
2025-06-06 00:17:14,618 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-06-06 00:17:14,633 - qmt_trading.strategy - INFO - 开始执行交易策略
2025-06-06 00:17:17,254 - qmt_trading.position_manager - WARNING - 600787 触发固定止损，当前价格: 5.91, 止损价格: 5.96
2025-06-06 00:17:17,259 - qmt_trading.position_manager - WARNING - 301252 触发固定止损，当前价格: 23.73, 止损价格: 31.99
2025-06-06 00:17:18,142 - qmt_trading.data_manager - WARNING - 300878 过滤了 1 行空date数据
2025-06-06 00:17:21,424 - qmt_trading.strategy - INFO - 交易策略执行完成
2025-06-06 00:17:27,667 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-06-06 的历史数据，跳过更新最高价
2025-06-06 00:17:29,599 - qmt_trading.position_manager - WARNING - 600787 触发固定止损，当前价格: 5.91, 止损价格: 5.96
2025-06-06 00:17:29,603 - qmt_trading.position_manager - WARNING - 301252 触发固定止损，当前价格: 23.73, 止损价格: 31.99
2025-06-06 00:17:41,102 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-06-06 的历史数据，跳过更新最高价
2025-06-06 00:17:45,762 - qmt_trading.position_manager - WARNING - 600787 触发固定止损，当前价格: 5.91, 止损价格: 5.96
2025-06-06 00:17:45,767 - qmt_trading.position_manager - WARNING - 301252 触发固定止损，当前价格: 23.73, 止损价格: 31.99
2025-06-06 00:20:22,486 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-06 00:20:22,487 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-06 00:20:24,548 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-06 00:20:27,594 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-06 00:20:27,596 - qmt_trading.position_manager - WARNING - SQLite数据库中缺少stock_name字段，使用股票代码作为默认值
2025-06-06 00:20:27,598 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-06-06 00:20:27,598 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-06-06 00:20:27,599 - qmt_trading.position_manager - INFO - 执行模拟交易全量数据刷新
2025-06-06 00:20:27,599 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-06 00:20:27,599 - qmt_trading.position_manager - INFO - 开始执行模拟交易全量数据刷新
2025-06-06 00:20:27,599 - qmt_trading.trading_executor - WARNING - 未配置交易账户ID，交易功能将不可用
2025-06-06 00:20:27,600 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-06-06 00:20:27,612 - qmt_trading.main - INFO - ==================================================
2025-06-06 00:20:27,614 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-06 00:20:27 
2025-06-06 00:20:27,615 - qmt_trading.main - INFO - ==================================================
2025-06-06 00:20:27,618 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-06 00:20:27,619 - qmt_trading.position_manager - INFO - 模拟交易全量刷新完成，更新了 6 只股票的数据
2025-06-06 00:20:27,619 - qmt_trading.main - INFO - 系统初始化完成
2025-06-06 00:20:27,620 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-06 00:20:27,621 - qmt_trading.main - INFO - 下载 300250 的历史数据
2025-06-06 00:20:27,862 - qmt_trading.position_manager - INFO - 513100 最高价变化：1.58 -> 1.44，重新计算止损价格
2025-06-06 00:20:27,862 - qmt_trading.position_manager - ERROR - 更新 513100 持仓Error: no such column: available
2025-06-06 00:20:28,171 - qmt_trading.position_manager - ERROR - 更新 600787 持仓Error: no such column: available
2025-06-06 00:20:28,742 - qmt_trading.main - INFO - 下载 300277 的历史数据
2025-06-06 00:20:28,965 - qmt_trading.position_manager - INFO - 002104 最高价变化：10.56 -> 8.51，重新计算止损价格
2025-06-06 00:20:28,965 - qmt_trading.position_manager - ERROR - 更新 002104 持仓Error: no such column: available
2025-06-06 00:20:29,451 - qmt_trading.position_manager - ERROR - 更新 300277 持仓Error: no such column: available
2025-06-06 00:20:29,864 - qmt_trading.main - INFO - 下载 300599 的历史数据
2025-06-06 00:20:30,041 - qmt_trading.position_manager - ERROR - 更新 300892 持仓Error: no such column: available
2025-06-06 00:20:30,906 - qmt_trading.position_manager - ERROR - 更新 301252 持仓Error: no such column: available
2025-06-06 00:20:30,997 - qmt_trading.main - INFO - 下载 300878 的历史数据
2025-06-06 00:20:31,114 - qmt_trading.data_manager - WARNING - 300878 过滤了 1 行空date数据
2025-06-06 00:20:32,130 - qmt_trading.main - INFO - 下载 601606 的历史数据
2025-06-06 00:20:33,264 - qmt_trading.main - INFO - 下载 603883 的历史数据
2025-06-06 00:20:34,399 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-06 00:20:34,399 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-06 00:20:34,406 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-06 00:20:34,406 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-06 00:20:34,407 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-06-06 00:20:34,407 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-06 00:20:34,407 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-06 00:20:34,409 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-06 00:20:34,409 - qmt_trading.main - INFO - 启动策略线程
2025-06-06 00:20:34,409 - qmt_trading.strategy - INFO - 开始执行交易策略
2025-06-06 00:20:34,409 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-06 00:20:34,410 - qmt_trading.main - INFO - 启动日志清理线程
2025-06-06 00:20:34,410 - qmt_trading.main - INFO - 启动Web服务器线程
2025-06-06 00:20:34,411 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-06-06 00:20:34,415 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-06 00:20:34,702 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-06-06 的历史数据，跳过更新最高价
2025-06-06 00:20:36,511 - qmt_trading.position_manager - WARNING - 600787 触发固定止损，当前价格: 5.91, 止损价格: 5.96
2025-06-06 00:20:36,516 - qmt_trading.position_manager - WARNING - 301252 触发固定止损，当前价格: 23.73, 止损价格: 31.99
2025-06-06 00:20:37,902 - qmt_trading.data_manager - WARNING - 300878 过滤了 1 行空date数据
2025-06-06 00:20:37,947 - qmt_trading.data_manager - WARNING - 300878 过滤了 1 行空date数据
2025-06-06 00:20:41,187 - qmt_trading.data_manager - INFO - 股票数据更新完成
2025-06-06 00:20:41,235 - qmt_trading.strategy - INFO - 交易策略执行完成
2025-06-06 00:20:46,743 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-06-06 的历史数据，跳过更新最高价
2025-06-06 00:20:49,096 - qmt_trading.position_manager - WARNING - 600787 触发固定止损，当前价格: 5.91, 止损价格: 5.96
2025-06-06 00:20:49,101 - qmt_trading.position_manager - WARNING - 301252 触发固定止损，当前价格: 23.73, 止损价格: 31.99
2025-06-06 00:20:59,370 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-06-06 的历史数据，跳过更新最高价
2025-06-06 00:21:01,196 - qmt_trading.position_manager - WARNING - 未能获取 600787 从 2025-04-23 到 2025-06-06 的历史数据，跳过更新最高价
2025-06-06 00:21:01,669 - qmt_trading.position_manager - WARNING - 未能获取 300277 从 2025-04-22 到 2025-06-06 的历史数据，跳过更新最高价
2025-06-06 00:21:11,522 - qmt_trading.strategy - INFO - 开始执行交易策略
2025-06-06 00:21:15,041 - qmt_trading.data_manager - WARNING - 300878 过滤了 1 行空date数据
2025-06-06 00:21:18,311 - qmt_trading.strategy - INFO - 交易策略执行完成
2025-06-06 00:21:22,708 - qmt_trading.position_manager - WARNING - 未能获取 300892 从 2025-04-23 到 2025-06-06 的历史数据，跳过更新最高价
2025-06-06 00:21:22,723 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-06-06 00:21:23,083 - qmt_trading.position_manager - WARNING - 600787 触发固定止损，当前价格: 5.91, 止损价格: 5.96
2025-06-06 00:21:23,088 - qmt_trading.position_manager - WARNING - 301252 触发固定止损，当前价格: 23.73, 止损价格: 31.99
2025-06-06 00:21:28,493 - qmt_trading.position_manager - INFO - 执行模拟交易全量数据刷新
2025-06-06 00:21:28,493 - qmt_trading.position_manager - INFO - 开始执行模拟交易全量数据刷新
2025-06-06 00:21:28,506 - qmt_trading.position_manager - INFO - 模拟交易全量刷新完成，更新了 6 只股票的数据
2025-06-06 00:21:33,282 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-06-06 的历史数据，跳过更新最高价
2025-06-06 00:21:37,320 - qmt_trading.position_manager - WARNING - 600787 触发固定止损，当前价格: 5.91, 止损价格: 5.96
2025-06-06 00:21:37,325 - qmt_trading.position_manager - WARNING - 301252 触发固定止损，当前价格: 23.73, 止损价格: 31.99
2025-06-06 00:21:41,776 - qmt_trading.data_manager - INFO - 开始更新所有股票数据
2025-06-06 00:21:47,957 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-06-06 的历史数据，跳过更新最高价
2025-06-06 00:21:48,608 - qmt_trading.strategy - INFO - 开始执行交易策略
2025-06-06 00:21:50,941 - qmt_trading.position_manager - WARNING - 600787 触发固定止损，当前价格: 5.91, 止损价格: 5.96
2025-06-06 00:21:50,948 - qmt_trading.position_manager - WARNING - 301252 触发固定止损，当前价格: 23.73, 止损价格: 31.99
2025-06-06 00:21:52,103 - qmt_trading.data_manager - WARNING - 300878 过滤了 1 行空date数据
2025-06-06 00:21:55,379 - qmt_trading.strategy - INFO - 交易策略执行完成
2025-06-06 00:21:59,918 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-06-06 00:21:59,918 - qmt_trading.main - INFO - 开始清理资源...
2025-06-06 00:21:59,918 - qmt_trading.main - INFO - 停止 data_thread...
2025-06-06 00:22:01,370 - qmt_trading.position_manager - WARNING - 未能获取 513100 从 2025-04-24 到 2025-06-06 的历史数据，跳过更新最高价
2025-06-11 23:18:14,411 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-11 23:18:14,412 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-11 23:18:16,483 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-11 23:18:19,523 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-11 23:18:19,526 - qmt_trading.position_manager - WARNING - SQLite数据库中缺少stock_name字段，使用股票代码作为默认值
2025-06-11 23:18:19,528 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-06-11 23:18:19,528 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-06-11 23:18:19,529 - qmt_trading.position_manager - INFO - 执行模拟交易全量数据刷新
2025-06-11 23:18:19,529 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-11 23:18:19,529 - qmt_trading.position_manager - INFO - 开始执行模拟交易全量数据刷新
2025-06-11 23:18:19,529 - qmt_trading.trading_executor - WARNING - 未配置交易账户ID，交易功能将不可用
2025-06-11 23:18:19,530 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-06-11 23:18:19,542 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-11 23:18:20,404 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:18:24,106 - qmt_trading.position_manager - INFO - 模拟交易全量刷新完成，更新了 5 只股票的数据
2025-06-11 23:18:44,051 - qmt_trading.web_server - INFO - 自动交易总开关: False -> True
2025-06-11 23:18:44,051 - qmt_trading.web_server - INFO - 配置已更新: {'globalAllowBuySell': True}
2025-06-11 23:21:09,003 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-11 23:21:09,004 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-11 23:21:11,062 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-11 23:21:11,095 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-11 23:21:11,096 - qmt_trading.position_manager - WARNING - SQLite数据库中缺少stock_name字段，使用股票代码作为默认值
2025-06-11 23:21:11,100 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-06-11 23:21:11,100 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-06-11 23:21:11,101 - qmt_trading.position_manager - INFO - 执行模拟交易全量数据刷新
2025-06-11 23:21:11,101 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-11 23:21:11,101 - qmt_trading.position_manager - INFO - 开始执行模拟交易全量数据刷新
2025-06-11 23:21:11,101 - qmt_trading.trading_executor - WARNING - 未配置交易账户ID，交易功能将不可用
2025-06-11 23:21:11,102 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-06-11 23:21:11,115 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-11 23:21:11,769 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:21:12,327 - qmt_trading.position_manager - INFO - 模拟交易全量刷新完成，更新了 5 只股票的数据
2025-06-11 23:28:55,152 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-11 23:28:55,153 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-11 23:28:57,216 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-11 23:28:57,249 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-11 23:28:57,251 - qmt_trading.position_manager - WARNING - SQLite数据库中缺少stock_name字段，使用股票代码作为默认值
2025-06-11 23:28:57,253 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-06-11 23:28:57,253 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-06-11 23:28:57,254 - qmt_trading.position_manager - INFO - 执行模拟交易全量数据刷新
2025-06-11 23:28:57,254 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-11 23:28:57,254 - qmt_trading.position_manager - INFO - 开始执行模拟交易全量数据刷新
2025-06-11 23:28:57,254 - qmt_trading.trading_executor - WARNING - 未配置交易账户ID，交易功能将不可用
2025-06-11 23:28:57,255 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-06-11 23:28:57,263 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-11 23:28:58,087 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:28:58,681 - qmt_trading.position_manager - INFO - 模拟交易全量刷新完成，更新了 5 只股票的数据
2025-06-11 23:52:05,856 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-11 23:52:05,857 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-11 23:52:07,903 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-11 23:52:07,940 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-11 23:52:07,943 - qmt_trading.position_manager - WARNING - SQLite数据库中缺少stock_name字段，使用股票代码作为默认值
2025-06-11 23:52:07,946 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-06-11 23:52:07,947 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-06-11 23:52:07,947 - qmt_trading.position_manager - INFO - 执行模拟交易全量数据刷新
2025-06-11 23:52:07,947 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-11 23:52:07,948 - qmt_trading.position_manager - INFO - 开始执行模拟交易全量数据刷新
2025-06-11 23:52:07,948 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-06-11 23:52:07,960 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-11 23:52:08,848 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:52:09,465 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:52:09,594 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:52:11,617 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:52:11,618 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:52:11,620 - qmt_trading.position_manager - INFO - 更新 stock_pool.json with new positions.
2025-06-11 23:52:12,249 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:52:12,471 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:52:12,982 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:52:13,590 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:52:13,689 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:52:13,689 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:52:14,163 - qmt_trading.position_manager - INFO - 模拟交易全量刷新完成，更新了 5 只股票的数据
2025-06-11 23:53:09,720 - qmt_trading.position_manager - INFO - 执行模拟交易全量数据刷新
2025-06-11 23:53:09,720 - qmt_trading.position_manager - INFO - 开始执行模拟交易全量数据刷新
2025-06-11 23:53:09,820 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:53:10,357 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:53:10,537 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:53:10,659 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:53:10,660 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:53:11,269 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:53:11,795 - qmt_trading.position_manager - INFO - 模拟交易全量刷新完成，更新了 5 只股票的数据
2025-06-11 23:53:55,401 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:53:55,930 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:53:56,380 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:53:56,505 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:53:56,505 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:54:04,590 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:54:05,139 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:54:05,351 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:54:05,458 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:54:05,459 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:54:08,595 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:54:09,131 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:54:11,107 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:54:11,229 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:54:11,230 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:54:12,351 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:54:12,432 - qmt_trading.position_manager - INFO - 执行模拟交易全量数据刷新
2025-06-11 23:54:12,432 - qmt_trading.position_manager - INFO - 开始执行模拟交易全量数据刷新
2025-06-11 23:54:12,533 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:54:12,964 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:54:13,103 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:54:13,179 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:54:13,179 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-06-11 23:54:13,180 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:54:13,293 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:54:13,293 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:54:13,304 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:54:13,304 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:54:13,957 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:54:14,489 - qmt_trading.position_manager - INFO - 模拟交易全量刷新完成，更新了 5 只股票的数据
2025-06-11 23:54:15,424 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:54:15,938 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:54:16,318 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:54:16,415 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:54:16,415 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:54:18,546 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:54:19,080 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:54:19,232 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:54:19,341 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:54:19,342 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:54:22,490 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:54:23,041 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:54:23,278 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:54:23,404 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:54:23,404 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:54:25,527 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:54:26,067 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:54:26,212 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:54:26,334 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:54:26,334 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:54:29,481 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:54:30,006 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:54:30,232 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:54:30,347 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:54:30,347 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:54:32,464 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:54:33,004 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:54:34,146 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:54:34,242 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:54:34,242 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:54:36,372 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:54:36,887 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:54:37,029 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:54:37,130 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:54:37,130 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:54:40,274 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:54:40,804 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:54:40,965 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:54:41,063 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:54:41,064 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:54:44,208 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:54:44,722 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:54:44,957 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:54:45,071 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:54:45,072 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:54:47,211 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:54:47,706 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:54:47,855 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:54:47,973 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:54:47,973 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:54:51,106 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:54:51,620 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:54:51,744 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:54:51,855 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:54:51,855 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:54:54,995 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:54:55,478 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:54:56,654 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:54:56,765 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:54:56,766 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:54:58,880 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:54:59,376 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:54:59,517 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:54:59,617 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:54:59,617 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:55:02,755 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:55:03,275 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:55:03,646 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:55:03,746 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:55:03,746 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:55:05,888 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:55:06,417 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:55:06,773 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:55:06,873 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:55:06,873 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:55:08,991 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:55:09,507 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:55:09,662 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:55:09,770 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:55:09,770 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:55:12,902 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:55:13,433 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:55:13,619 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:55:13,728 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:55:13,728 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:55:15,092 - qmt_trading.position_manager - INFO - 执行模拟交易全量数据刷新
2025-06-11 23:55:15,092 - qmt_trading.position_manager - INFO - 开始执行模拟交易全量数据刷新
2025-06-11 23:55:15,757 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:55:16,010 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:55:16,524 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:55:16,659 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:55:16,782 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:55:16,782 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:55:16,855 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:55:17,273 - qmt_trading.position_manager - INFO - 模拟交易全量刷新完成，更新了 5 只股票的数据
2025-06-11 23:55:17,382 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:55:17,554 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:55:17,652 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:55:17,652 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:55:20,793 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:55:21,312 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:55:21,481 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:55:21,598 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:55:21,598 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:55:24,740 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:55:25,269 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:55:25,476 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:55:25,597 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:55:25,597 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:55:28,740 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:55:29,239 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:55:29,454 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:55:29,569 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:55:29,569 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:55:51,142 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-11 23:55:51,142 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-11 23:55:53,199 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-11 23:55:53,232 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-11 23:55:53,234 - qmt_trading.position_manager - WARNING - SQLite数据库中缺少stock_name字段，使用股票代码作为默认值
2025-06-11 23:55:53,235 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-06-11 23:55:53,235 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-06-11 23:55:53,235 - qmt_trading.position_manager - INFO - 执行模拟交易全量数据刷新
2025-06-11 23:55:53,235 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-11 23:55:53,236 - qmt_trading.position_manager - INFO - 开始执行模拟交易全量数据刷新
2025-06-11 23:55:53,236 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-06-11 23:55:53,244 - qmt_trading.main - INFO - ==================================================
2025-06-11 23:55:53,245 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-11 23:55:53 
2025-06-11 23:55:53,245 - qmt_trading.main - INFO - ==================================================
2025-06-11 23:55:53,245 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-11 23:55:53,246 - qmt_trading.main - INFO - 系统初始化完成
2025-06-11 23:55:53,246 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-11 23:55:53,246 - qmt_trading.main - INFO - 下载 002261 的历史数据
2025-06-11 23:55:53,569 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:55:54,085 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:55:54,239 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:55:54,378 - qmt_trading.main - INFO - 下载 159813 的历史数据
2025-06-11 23:55:54,883 - qmt_trading.data_manager - WARNING - 下载 159813 数据时发生长度不匹配错误，使用默认数据
2025-06-11 23:55:55,767 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:55:55,768 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:55:55,887 - qmt_trading.main - INFO - 下载 300638 的历史数据
2025-06-11 23:55:56,284 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:55:56,505 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:55:57,022 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-11 23:55:57,022 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-11 23:55:57,035 - qmt_trading.indicator_calculator - INFO - 成功计算 002261 的技术指标，共 60 条记录
2025-06-11 23:55:57,036 - qmt_trading.indicator_calculator - WARNING - 没有 159813 的历史数据，无法计算指标
2025-06-11 23:55:57,048 - qmt_trading.indicator_calculator - INFO - 成功计算 300638 的技术指标，共 60 条记录
2025-06-11 23:55:57,048 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-11 23:55:57,049 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-11 23:55:57,050 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-11 23:55:57,050 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-11 23:55:57,085 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-11 23:55:57,116 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-11 23:55:57,146 - qmt_trading.main - INFO - 启动策略线程
2025-06-11 23:55:57,318 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-11 23:55:57,364 - qmt_trading.main - INFO - 启动日志清理线程
2025-06-11 23:55:57,474 - qmt_trading.main - INFO - 启动Web服务器线程
2025-06-11 23:55:57,536 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-06-11 23:55:57,567 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-11 23:55:57,675 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-11 23:55:58,653 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-11 23:55:58,700 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-11 23:56:01,429 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-11 23:56:01,910 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-06-11 23:56:01,958 - qmt_trading.main - INFO - 开始清理资源...
2025-06-11 23:56:02,004 - qmt_trading.main - INFO - 停止 data_thread...
2025-06-11 23:56:02,144 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-06-11 23:56:02,222 - qmt_trading.main - INFO - 停止 position_thread...
2025-06-11 23:56:02,253 - qmt_trading.position_manager - INFO - 持仓监控线程已停止
2025-06-11 23:56:02,254 - qmt_trading.main - INFO - 停止 strategy_thread...
2025-06-11 23:56:02,346 - qmt_trading.strategy - INFO - 策略线程已停止
2025-06-11 23:56:02,347 - qmt_trading.main - INFO - 停止 log_thread...
2025-06-11 23:56:02,347 - qmt_trading.main - INFO - 停止 web_thread...
2025-06-11 23:56:02,347 - qmt_trading.main - ERROR - 关闭交易策略时出错: 'TradingStrategy' object has no attribute 'close'
2025-06-11 23:56:02,347 - qmt_trading.trading_executor - INFO - 交易执行器已关闭
2025-06-11 23:56:02,348 - qmt_trading.data_manager - INFO - 数据库连接已关闭
2025-06-11 23:56:02,348 - qmt_trading.data_manager - ERROR - 断开行情连接出错: module 'xtquant.xtdata' has no attribute 'disconnect'
2025-06-11 23:56:02,348 - qmt_trading.main - INFO - 资源清理完成
2025-06-11 23:56:02,348 - qmt_trading.main - INFO - 系统已退出
2025-06-11 23:57:30,457 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-11 23:57:30,458 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-11 23:57:32,513 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-11 23:57:32,544 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-11 23:57:32,547 - qmt_trading.position_manager - WARNING - SQLite数据库中缺少stock_name字段，使用股票代码作为默认值
2025-06-11 23:57:32,548 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-06-11 23:57:32,548 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-11 23:57:32,549 - qmt_trading.trading_executor - WARNING - 非模拟交易模式，无法初始化模拟账户
2025-06-11 23:57:32,555 - qmt_trading.main - INFO - ==================================================
2025-06-11 23:57:32,556 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-11 23:57:32 
2025-06-11 23:57:32,556 - qmt_trading.main - INFO - ==================================================
2025-06-11 23:57:32,556 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-11 23:57:32,556 - qmt_trading.main - INFO - 系统初始化完成
2025-06-11 23:57:32,556 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-11 23:57:32,557 - qmt_trading.main - INFO - 下载 002261 的历史数据
2025-06-11 23:57:33,680 - qmt_trading.main - INFO - 下载 159813 的历史数据
2025-06-11 23:57:34,265 - qmt_trading.data_manager - WARNING - 下载 159813 数据时发生长度不匹配错误，使用默认数据
2025-06-11 23:57:35,269 - qmt_trading.main - INFO - 下载 300638 的历史数据
2025-06-11 23:57:36,389 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-11 23:57:36,389 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-11 23:57:36,392 - qmt_trading.indicator_calculator - WARNING - 没有 159813 的历史数据，无法计算指标
2025-06-11 23:57:36,393 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-11 23:57:36,394 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-11 23:57:36,394 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-11 23:57:36,394 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-11 23:57:36,405 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-11 23:57:36,467 - qmt_trading.main - INFO - 启动策略线程
2025-06-11 23:57:36,560 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-11 23:57:36,607 - qmt_trading.main - INFO - 启动日志清理线程
2025-06-11 23:57:36,731 - qmt_trading.main - INFO - 启动Web服务器线程
2025-06-11 23:57:36,825 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-06-11 23:57:36,856 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-11 23:58:36,255 - qmt_trading.web_server - INFO - 配置已更新: {'allowSell': False}
2025-06-11 23:58:36,908 - qmt_trading.web_server - INFO - 配置已更新: {'allowSell': True}
2025-06-11 23:58:47,839 - qmt_trading.web_server - INFO - 已清除当天(2025-06-11)的交易记录，共0条
2025-06-12 00:02:39,872 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-12 00:02:39,873 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-12 00:02:41,921 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-12 00:02:41,951 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-12 00:02:41,953 - qmt_trading.position_manager - WARNING - SQLite数据库中缺少stock_name字段，使用股票代码作为默认值
2025-06-12 00:02:41,955 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-06-12 00:02:41,956 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-12 00:02:41,956 - qmt_trading.trading_executor - WARNING - 非模拟交易模式，无法初始化模拟账户
2025-06-12 00:02:41,962 - qmt_trading.main - INFO - ==================================================
2025-06-12 00:02:41,963 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-12 00:02:41 
2025-06-12 00:02:41,963 - qmt_trading.main - INFO - ==================================================
2025-06-12 00:02:41,963 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-12 00:02:41,963 - qmt_trading.main - INFO - 系统初始化完成
2025-06-12 00:02:41,963 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-12 00:02:41,964 - qmt_trading.main - INFO - 下载 002261 的历史数据
2025-06-12 00:02:43,086 - qmt_trading.main - INFO - 下载 159813 的历史数据
2025-06-12 00:02:43,697 - qmt_trading.data_manager - WARNING - 下载 159813 数据时发生长度不匹配错误，使用默认数据
2025-06-12 00:02:44,702 - qmt_trading.main - INFO - 下载 300638 的历史数据
2025-06-12 00:02:45,821 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-12 00:02:45,821 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-12 00:02:45,824 - qmt_trading.indicator_calculator - WARNING - 没有 159813 的历史数据，无法计算指标
2025-06-12 00:02:45,825 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-12 00:02:45,825 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-12 00:02:45,826 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-12 00:02:45,826 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-12 00:02:45,836 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-12 00:02:45,867 - qmt_trading.main - INFO - 启动策略线程
2025-06-12 00:02:45,976 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-12 00:02:46,039 - qmt_trading.main - INFO - 启动日志清理线程
2025-06-12 00:02:46,147 - qmt_trading.main - INFO - 启动Web服务器线程
2025-06-12 00:02:46,225 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-06-12 00:02:46,256 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-12 00:13:14,774 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-12 00:13:14,775 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-12 00:13:16,825 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-12 00:13:16,826 - qmt_trading.data_manager - DEBUG - xtquant连接状态验证成功
2025-06-12 00:13:16,858 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-12 00:13:16,861 - qmt_trading.position_manager - WARNING - SQLite数据库中缺少stock_name字段，使用股票代码作为默认值
2025-06-12 00:13:16,862 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-06-12 00:13:16,863 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-06-12 00:13:16,863 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 00:13:16,863 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-12 00:13:16,863 - qmt_trading.position_manager - INFO - 执行模拟交易全量数据刷新
2025-06-12 00:13:16,864 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-06-12 00:13:16,864 - qmt_trading.position_manager - INFO - 开始执行模拟交易全量数据刷新
2025-06-12 00:13:16,871 - qmt_trading.main - INFO - ==================================================
2025-06-12 00:13:16,872 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-12 00:13:16 
2025-06-12 00:13:16,873 - qmt_trading.main - INFO - ==================================================
2025-06-12 00:13:16,873 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-12 00:13:16,874 - qmt_trading.main - INFO - 系统初始化完成
2025-06-12 00:13:16,874 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-12 00:13:16,874 - qmt_trading.main - INFO - 下载 002261 的历史数据
2025-06-12 00:13:16,981 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:17,309 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:13:17,910 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:13:17,992 - qmt_trading.main - INFO - 下载 159813 的历史数据
2025-06-12 00:13:18,307 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:13:18,420 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:18,510 - qmt_trading.data_manager - WARNING - 下载 159813 数据时发生长度不匹配错误，使用默认数据
2025-06-12 00:13:18,798 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:13:18,798 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:13:18,801 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:13:19,411 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:13:19,411 - qmt_trading.position_manager - DEBUG - 无法获取 513100 的最新行情，跳过刷新
2025-06-12 00:13:19,519 - qmt_trading.main - INFO - 下载 300638 的历史数据
2025-06-12 00:13:19,525 - qmt_trading.data_manager - DEBUG - Mootdx:600787 最新行情: {'lastPrice': 5.87, 'lastClose': 5.88, 'volume': 509588.0, 'amount': 300133440.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:19,527 - qmt_trading.position_manager - DEBUG - 全量刷新 600787: 价格=5.87, 最高价=7.06, 盈亏率=-8.42%, 止损价=5.96
2025-06-12 00:13:19,627 - qmt_trading.data_manager - DEBUG - Mootdx:002104 最新行情: {'lastPrice': 11.55, 'lastClose': 11.14, 'volume': 2569739.0, 'amount': 2967632384.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:19,628 - qmt_trading.position_manager - DEBUG - 动态止损计算：成本价=7.20, 最高价=11.55, 最高盈利=60.4%, 匹配区间=40.0%, 系数=0.85, 止损价=9.82
2025-06-12 00:13:19,629 - qmt_trading.position_manager - DEBUG - 全量刷新 002104: 价格=11.55, 最高价=11.55, 盈亏率=60.42%, 止损价=9.82
2025-06-12 00:13:19,731 - qmt_trading.data_manager - DEBUG - Mootdx:300277 最新行情: {'lastPrice': 12.81, 'lastClose': nan, 'volume': 67673.0, 'amount': 87242432.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:19,732 - qmt_trading.position_manager - DEBUG - 全量刷新 300277: 价格=12.81, 最高价=13.86, 盈亏率=-4.33%, 止损价=12.45
2025-06-12 00:13:19,830 - qmt_trading.data_manager - DEBUG - Mootdx:300892 最新行情: {'lastPrice': 35.79, 'lastClose': 36.67, 'volume': 63562.0, 'amount': 226788288.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:19,831 - qmt_trading.position_manager - DEBUG - 全量刷新 300892: 价格=35.79, 最高价=39.98, 盈亏率=-6.36%, 止损价=35.54
2025-06-12 00:13:19,944 - qmt_trading.data_manager - DEBUG - Mootdx:301252 最新行情: {'lastPrice': 23.45, 'lastClose': 23.46, 'volume': 19478.0, 'amount': 46160492.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:20,072 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:20,072 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:13:20,582 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:13:20,637 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-12 00:13:20,637 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-12 00:13:20,638 - qmt_trading.data_manager - DEBUG - 从数据库获取 002261 的历史数据, 共 60 条记录
2025-06-12 00:13:20,639 - qmt_trading.indicator_calculator - DEBUG - 002261 的指标已是最新，不需要更新
2025-06-12 00:13:20,640 - qmt_trading.data_manager - DEBUG - 从数据库获取 159813 的历史数据, 共 0 条记录
2025-06-12 00:13:20,640 - qmt_trading.indicator_calculator - WARNING - 没有 159813 的历史数据，无法计算指标
2025-06-12 00:13:20,641 - qmt_trading.data_manager - DEBUG - 从数据库获取 300638 的历史数据, 共 60 条记录
2025-06-12 00:13:20,642 - qmt_trading.indicator_calculator - DEBUG - 300638 的指标已是最新，不需要更新
2025-06-12 00:13:20,642 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-12 00:13:20,642 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-12 00:13:20,642 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-12 00:13:20,643 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-12 00:13:20,652 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-12 00:13:20,699 - qmt_trading.main - INFO - 启动策略线程
2025-06-12 00:13:20,776 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-12 00:13:20,823 - qmt_trading.main - INFO - 启动日志清理线程
2025-06-12 00:13:20,931 - qmt_trading.main - INFO - 启动Web服务器线程
2025-06-12 00:13:20,994 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-06-12 00:13:20,994 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-12 00:13:21,025 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:13:22,131 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:22,303 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:13:22,349 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:13:22,755 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:13:22,894 - qmt_trading.position_manager - DEBUG - 全量刷新 301252: 价格=23.45, 最高价=34.65, 盈亏率=-31.83%, 止损价=31.99
2025-06-12 00:13:22,956 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v1
2025-06-12 00:13:23,003 - qmt_trading.position_manager - INFO - 模拟交易全量刷新完成，更新了 5 只股票的数据
2025-06-12 00:13:26,424 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 00:13:26,595 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 00:13:26,953 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 00:13:27,717 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:27,876 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:27,950 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: <sqlite3.Connection object at 0x000001A68C8EFE40> returned NULL without setting an error
2025-06-12 00:13:28,013 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:13:28,137 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 00:13:28,296 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:28,542 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:13:29,788 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:13:29,803 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:13:30,178 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:13:30,348 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:13:30,348 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 用户未登录
2025-06-12 00:13:30,409 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-06-12 00:13:30,611 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:13:30,876 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:13:31,625 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:31,672 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:31,672 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:13:31,737 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:31,750 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:13:31,890 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:13:31,936 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: not an error
2025-06-12 00:13:31,937 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:13:32,029 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:13:32,264 - qmt_trading.position_manager - DEBUG - 获取到 6 条持仓记录（所有字段），并计算了涨跌幅
2025-06-12 00:13:32,358 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:13:32,480 - qmt_trading.web_server - DEBUG - 当前状态: UI监控=False, 自动交易=False, 持仓监控=True
2025-06-12 00:13:32,514 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:13:32,605 - qmt_trading.web_server - DEBUG - SSE推送持仓数据变化通知: v1
2025-06-12 00:13:32,683 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:13:32,776 - qmt_trading.web_server - DEBUG - SSE推送持仓数据变化通知: v1
2025-06-12 00:13:33,274 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 00:13:33,928 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 00:13:35,064 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:35,188 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:13:36,897 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:13:37,535 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:13:38,390 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 00:13:38,500 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:38,592 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:13:38,640 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:13:38,920 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:13:40,070 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 00:13:41,345 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:41,451 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:13:43,238 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:13:43,502 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 00:13:43,877 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 00:13:43,924 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:13:44,919 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:45,075 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:13:45,153 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:13:45,188 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:45,341 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:13:45,497 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:13:46,723 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 00:13:47,035 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:13:47,926 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:48,031 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:13:48,669 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 00:13:48,919 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:13:49,791 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:13:49,809 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:49,993 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:13:50,071 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:13:50,336 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:13:50,462 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:13:50,539 - qmt_trading.web_server - DEBUG - 当前状态: UI监控=False, 自动交易=False, 持仓监控=True
2025-06-12 00:13:51,239 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:51,348 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:13:51,425 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:13:51,693 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:13:52,828 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 00:13:53,794 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 00:13:54,030 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:54,136 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:13:55,868 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:13:56,552 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:13:57,472 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:13:57,578 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:13:57,640 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:13:57,968 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:13:58,884 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 00:13:59,102 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 00:14:00,222 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:00,314 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:14:01,912 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 00:14:01,943 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:14:02,582 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:14:03,221 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:03,392 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:14:03,580 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:03,718 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:14:03,765 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:14:04,046 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 00:14:04,077 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:14:05,089 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:14:05,259 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 00:14:05,725 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:14:06,284 - qmt_trading.web_server - WARNING - UI监控状态未变化: False -> False (通过API)
2025-06-12 00:14:06,500 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:06,518 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:06,545 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:14:06,685 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:14:06,731 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:14:07,014 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:14:07,152 - qmt_trading.web_server - DEBUG - 当前状态: UI监控=False, 自动交易=False, 持仓监控=True
2025-06-12 00:14:08,178 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:14:08,724 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:14:09,175 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 00:14:09,677 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:09,783 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:14:09,845 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:14:10,142 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:14:11,261 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 00:14:12,413 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:12,503 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:14:14,044 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:14:14,340 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 00:14:14,823 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:14:15,741 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:15,849 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:14:15,895 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:14:16,115 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:14:17,280 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 00:14:18,324 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:18,414 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:14:19,425 - qmt_trading.data_manager - WARNING - baostock登录失败: 网络接收错误。
2025-06-12 00:14:19,534 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 00:14:19,565 - qmt_trading.position_manager - INFO - 执行模拟交易全量数据刷新
2025-06-12 00:14:19,596 - qmt_trading.position_manager - INFO - 开始执行模拟交易全量数据刷新
2025-06-12 00:14:20,017 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:14:20,685 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:14:20,845 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:20,934 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:14:21,762 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:21,899 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:14:21,977 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:14:22,338 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:14:22,554 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:14:23,239 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:14:23,519 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 00:14:24,425 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:24,518 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:14:24,579 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:14:24,814 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:25,032 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:14:25,094 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:14:26,683 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:14:26,699 - qmt_trading.data_manager - ERROR - 获取 513100 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:14:26,745 - qmt_trading.position_manager - DEBUG - 无法获取 513100 的最新行情，跳过刷新
2025-06-12 00:14:27,245 - qmt_trading.data_manager - ERROR - 获取股票 159813 名称时出错: list index out of range
2025-06-12 00:14:27,323 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:14:27,759 - qmt_trading.data_manager - DEBUG - Mootdx:600787 最新行情: {'lastPrice': 5.87, 'lastClose': 5.88, 'volume': 509588.0, 'amount': 300133440.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:28,243 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:28,348 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:14:28,394 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:14:28,849 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:14:29,033 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:29,141 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:14:30,015 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 00:14:30,776 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:14:31,356 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:31,493 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:14:31,803 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:14:31,835 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-06-12 00:14:32,614 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:32,753 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:14:32,784 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:14:33,080 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:14:33,096 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:14:33,236 - qmt_trading.position_manager - DEBUG - 全量刷新 600787: 价格=5.87, 最高价=7.06, 盈亏率=-8.42%, 止损价=5.96
2025-06-12 00:14:33,673 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:14:34,206 - qmt_trading.data_manager - DEBUG - Mootdx:002104 最新行情: {'lastPrice': 11.55, 'lastClose': 11.14, 'volume': 2569739.0, 'amount': 2967632384.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:34,998 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:35,089 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:14:35,135 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:14:35,604 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:14:35,697 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:35,833 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:14:36,844 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 00:14:37,372 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:14:37,951 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:38,074 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:14:38,121 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:14:39,215 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:39,274 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:14:39,337 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:14:39,695 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:14:39,742 - qmt_trading.position_manager - DEBUG - 动态止损计算：成本价=7.20, 最高价=11.55, 最高盈利=60.4%, 匹配区间=40.0%, 系数=0.85, 止损价=9.82
2025-06-12 00:14:39,928 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:14:39,943 - qmt_trading.position_manager - DEBUG - 全量刷新 002104: 价格=11.55, 最高价=11.55, 盈亏率=60.42%, 止损价=9.82
2025-06-12 00:14:40,784 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:14:40,881 - qmt_trading.data_manager - DEBUG - Mootdx:300277 最新行情: {'lastPrice': 12.81, 'lastClose': nan, 'volume': 67673.0, 'amount': 87242432.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:41,796 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:41,892 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:41,905 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:14:41,952 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:14:41,984 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:14:42,236 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:14:43,403 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 00:14:43,544 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:14:44,540 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:44,632 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:14:45,565 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:14:46,160 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:14:46,395 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:46,519 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:14:46,565 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:14:46,894 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:14:46,984 - qmt_trading.position_manager - DEBUG - 全量刷新 300277: 价格=12.81, 最高价=13.86, 盈亏率=-4.33%, 止损价=12.45
2025-06-12 00:14:47,530 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:14:47,905 - qmt_trading.data_manager - DEBUG - Mootdx:300892 最新行情: {'lastPrice': 35.79, 'lastClose': 36.67, 'volume': 63562.0, 'amount': 226788288.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:48,574 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:48,756 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:14:48,819 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:14:49,145 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:49,193 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:14:49,284 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:14:50,327 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 00:14:50,949 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:14:51,433 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:51,587 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: <sqlite3.Connection object at 0x000001A68C8EFE40> returned NULL without setting an error
2025-06-12 00:14:51,649 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:14:52,691 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:52,798 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:14:52,829 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:14:53,079 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:14:53,249 - qmt_trading.position_manager - DEBUG - 全量刷新 300892: 价格=35.79, 最高价=39.98, 盈亏率=-6.36%, 止损价=35.54
2025-06-12 00:14:53,250 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:14:54,171 - qmt_trading.data_manager - DEBUG - Mootdx:301252 最新行情: {'lastPrice': 23.45, 'lastClose': 23.46, 'volume': 19478.0, 'amount': 46160492.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:55,008 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:14:55,369 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:55,552 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:14:56,034 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:56,141 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:14:56,203 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:14:56,549 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:14:57,325 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:14:57,698 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 00:14:58,836 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:14:58,941 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:14:59,750 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: no more rows available
2025-06-12 00:14:59,766 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-12 00:15:00,077 - qmt_trading.position_manager - WARNING - SQLite数据库中缺少stock_name字段，使用股票代码作为默认值
2025-06-12 00:15:00,574 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-06-12 00:15:00,591 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:15:00,621 - qmt_trading.web_server - WARNING - 交易模式切换: 实盘交易
2025-06-12 00:15:00,762 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': False}
2025-06-12 00:15:00,967 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:15:01,072 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:15:01,446 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:15:02,442 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:15:02,598 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:15:02,598 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:15:02,691 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:15:03,376 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-12 00:15:03,565 - qmt_trading.position_manager - WARNING - SQLite数据库中缺少stock_name字段，使用股票代码作为默认值
2025-06-12 00:15:03,953 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:15:04,093 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-06-12 00:15:04,108 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:15:04,176 - qmt_trading.web_server - WARNING - 交易模式切换: 模拟交易
2025-06-12 00:15:04,264 - qmt_trading.web_server - INFO - 配置已更新: {'simulationMode': True}
2025-06-12 00:15:04,389 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:15:05,011 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:15:05,778 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:15:05,883 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:15:05,915 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:15:06,132 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:15:06,350 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 6 条记录
2025-06-12 00:15:06,490 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v2
2025-06-12 00:15:06,553 - qmt_trading.position_manager - INFO - 已删除 600787 的持仓记录
2025-06-12 00:15:06,896 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:15:07,973 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:15:07,973 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:15:08,174 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: no more rows available
2025-06-12 00:15:08,205 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:15:08,251 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:15:08,749 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 5 条记录
2025-06-12 00:15:08,920 - qmt_trading.position_manager - WARNING - 未找到 600787 的持仓记录，无需删除
2025-06-12 00:15:10,041 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:15:10,057 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:15:10,228 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:15:10,711 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:15:11,666 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:15:11,787 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:15:11,849 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:15:11,990 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:15:12,301 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 5 条记录
2025-06-12 00:15:12,410 - qmt_trading.position_manager - WARNING - 删除已触发止盈的持仓 002104，请确认
2025-06-12 00:15:12,456 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v3
2025-06-12 00:15:12,486 - qmt_trading.position_manager - INFO - 已删除 002104 的持仓记录
2025-06-12 00:15:12,813 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:15:13,487 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:15:13,533 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:15:13,595 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: <sqlite3.Connection object at 0x000001A68CB28D50> returned NULL without setting an error
2025-06-12 00:15:13,657 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:15:13,657 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:15:14,016 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 4 条记录
2025-06-12 00:15:14,138 - qmt_trading.position_manager - WARNING - 未找到 002104 的持仓记录，无需删除
2025-06-12 00:15:15,167 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:15:15,289 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:15:15,305 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:15:16,023 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:15:16,881 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:15:16,989 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:15:17,051 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:15:17,192 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 00:15:17,301 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 4 条记录
2025-06-12 00:15:17,533 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v4
2025-06-12 00:15:17,534 - qmt_trading.position_manager - INFO - 已删除 300277 的持仓记录
2025-06-12 00:15:18,202 - qmt_trading.position_manager - ERROR - 更新 159813 持仓Error: table positions has no column named available
2025-06-12 00:15:18,594 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:15:18,779 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:15:18,826 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-06-12 00:15:18,919 - qmt_trading.main - INFO - 开始清理资源...
2025-06-12 00:15:18,997 - qmt_trading.main - INFO - 停止 data_thread...
2025-06-12 00:15:19,326 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:15:19,495 - qmt_trading.position_manager - ERROR - 更新 300638 持仓Error: table positions has no column named available
2025-06-12 00:15:19,542 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 00:15:19,748 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 3 条记录
2025-06-12 00:15:19,870 - qmt_trading.position_manager - WARNING - 未找到 300277 的持仓记录，无需删除
2025-06-12 00:15:19,901 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-06-12 00:15:19,963 - qmt_trading.main - INFO - 停止 position_thread...
2025-06-12 00:15:20,010 - qmt_trading.position_manager - INFO - 持仓监控线程已停止
2025-06-12 00:15:20,011 - qmt_trading.main - INFO - 停止 strategy_thread...
2025-06-12 00:15:20,114 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 00:15:20,114 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: table positions has no column named available
2025-06-12 00:15:20,229 - qmt_trading.strategy - INFO - 策略线程已停止
2025-06-12 00:15:20,229 - qmt_trading.main - INFO - 停止 log_thread...
2025-06-12 00:15:20,238 - qmt_trading.main - INFO - 停止 web_thread...
2025-06-12 00:15:20,238 - qmt_trading.main - ERROR - 关闭交易策略时出错: 'TradingStrategy' object has no attribute 'close'
2025-06-12 00:15:20,239 - qmt_trading.trading_executor - INFO - 交易执行器已关闭
2025-06-12 00:15:20,239 - qmt_trading.data_manager - INFO - 数据库连接已关闭
2025-06-12 00:15:20,239 - qmt_trading.data_manager - ERROR - 断开行情连接出错: module 'xtquant.xtdata' has no attribute 'disconnect'
2025-06-12 00:15:20,239 - qmt_trading.main - INFO - 资源清理完成
2025-06-12 00:15:20,239 - qmt_trading.main - INFO - 系统已退出
2025-06-12 00:36:13,152 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-12 00:36:13,153 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-12 00:36:15,211 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-12 00:36:15,212 - qmt_trading.data_manager - DEBUG - xtquant连接状态验证成功
2025-06-12 00:36:15,253 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-12 00:36:15,256 - qmt_trading.position_manager - WARNING - SQLite数据库中缺少stock_name字段，使用股票代码作为默认值
2025-06-12 00:36:15,258 - qmt_trading.position_manager - INFO - 数据库数据已同步到内存数据库
2025-06-12 00:36:15,258 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-06-12 00:36:15,259 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 00:36:15,259 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-12 00:36:15,259 - qmt_trading.position_manager - INFO - 执行模拟交易全量数据刷新
2025-06-12 00:36:15,259 - qmt_trading.position_manager - INFO - 开始执行模拟交易全量数据刷新
2025-06-12 00:36:15,264 - qmt_trading.position_manager - WARNING - 动态止盈配置为空，使用保守止盈位
2025-06-12 00:36:15,272 - qmt_trading.position_manager - DEBUG - 动态止损计算：成本价=100.00, 最高价=105.00, 最高盈利=5.0%, 匹配区间=5.0%, 系数=0.96, 止损价=100.80
2025-06-12 00:36:15,277 - qmt_trading.position_manager - DEBUG - 动态止损计算：成本价=100.00, 最高价=110.00, 最高盈利=10.0%, 匹配区间=10.0%, 系数=0.93, 止损价=102.30
2025-06-12 00:36:15,283 - qmt_trading.position_manager - DEBUG - 动态止损计算：成本价=100.00, 最高价=115.00, 最高盈利=15.0%, 匹配区间=15.0%, 系数=0.9, 止损价=103.50
2025-06-12 00:36:15,288 - qmt_trading.position_manager - DEBUG - 动态止损计算：成本价=100.00, 最高价=130.00, 最高盈利=30.0%, 匹配区间=30.0%, 系数=0.87, 止损价=113.10
2025-06-12 00:36:15,292 - qmt_trading.position_manager - DEBUG - 动态止损计算：成本价=100.00, 最高价=150.00, 最高盈利=50.0%, 匹配区间=40.0%, 系数=0.85, 止损价=127.50
2025-06-12 00:36:15,297 - qmt_trading.position_manager - DEBUG - 动态止损计算：未达到任何盈利区间，使用最高价作为止损价
2025-06-12 01:33:40,082 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-12 01:33:40,085 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-12 01:33:40,086 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-12 01:33:40,087 - qmt_trading.sell_strategy - INFO - [规则1] 000001.SZ 触发卖出: 高开后涨2.86%，回落1.85%
2025-06-12 01:33:40,088 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-12 01:33:40,088 - qmt_trading.sell_strategy - INFO - [规则2] 000001.SZ 触发卖出: 低开后涨5.10%，回落2.91%
2025-06-12 01:33:40,090 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-12 01:33:40,091 - qmt_trading.sell_strategy - INFO - [规则5] 000001.SZ 尾盘卖出: 未涨停
2025-06-12 01:33:40,093 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-12 01:33:40,093 - qmt_trading.sell_strategy - INFO - [规则8] 000001.SZ 触发卖出: 最大回撤6.00%
2025-06-12 01:33:40,095 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-12 01:35:53,922 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-12 01:35:53,923 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-12 01:35:55,975 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-12 01:35:55,976 - qmt_trading.data_manager - DEBUG - xtquant连接状态验证成功
2025-06-12 01:35:56,007 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-12 01:35:56,009 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-06-12 01:35:56,010 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 01:35:56,010 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-12 01:35:56,010 - qmt_trading.position_manager - INFO - 执行模拟交易全量数据刷新
2025-06-12 01:35:56,010 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-06-12 01:35:56,010 - qmt_trading.position_manager - INFO - 开始执行模拟交易全量数据刷新
2025-06-12 01:35:56,011 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-12 01:35:56,018 - qmt_trading.main - INFO - ==================================================
2025-06-12 01:35:56,019 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-12 01:35:56 
2025-06-12 01:35:56,020 - qmt_trading.main - INFO - ==================================================
2025-06-12 01:35:56,020 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-12 01:35:56,020 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-12 01:35:56,021 - qmt_trading.main - INFO - 系统初始化完成
2025-06-12 01:35:56,021 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-12 01:35:56,021 - qmt_trading.main - INFO - 下载 002261 的历史数据
2025-06-12 01:35:56,126 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:35:56,314 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v1
2025-06-12 01:35:56,984 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 01:35:57,139 - qmt_trading.main - INFO - 下载 159813 的历史数据
2025-06-12 01:35:57,566 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v2
2025-06-12 01:35:57,656 - qmt_trading.data_manager - WARNING - 下载 159813 数据时发生长度不匹配错误，使用默认数据
2025-06-12 01:35:57,668 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:35:58,264 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v3
2025-06-12 01:35:58,264 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 01:35:58,267 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 3 条记录
2025-06-12 01:35:58,388 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:35:58,389 - qmt_trading.position_manager - DEBUG - 全量刷新 002261: 价格=30.21, 最高价=30.21, 盈亏率=-3.73%, 止损价=29.18
2025-06-12 01:35:58,662 - qmt_trading.main - INFO - 下载 300638 的历史数据
2025-06-12 01:35:58,912 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 01:35:58,913 - qmt_trading.position_manager - DEBUG - 无法获取 159813 的最新行情，跳过刷新
2025-06-12 01:35:59,031 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:35:59,149 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:35:59,150 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v4
2025-06-12 01:35:59,662 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 01:35:59,782 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-12 01:35:59,782 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-12 01:35:59,783 - qmt_trading.data_manager - DEBUG - 从数据库获取 002261 的历史数据, 共 60 条记录
2025-06-12 01:35:59,784 - qmt_trading.indicator_calculator - DEBUG - 002261 的指标已是最新，不需要更新
2025-06-12 01:35:59,785 - qmt_trading.data_manager - DEBUG - 从数据库获取 159813 的历史数据, 共 0 条记录
2025-06-12 01:35:59,785 - qmt_trading.indicator_calculator - WARNING - 没有 159813 的历史数据，无法计算指标
2025-06-12 01:35:59,786 - qmt_trading.data_manager - DEBUG - 从数据库获取 300638 的历史数据, 共 60 条记录
2025-06-12 01:35:59,787 - qmt_trading.indicator_calculator - DEBUG - 300638 的指标已是最新，不需要更新
2025-06-12 01:35:59,787 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-12 01:35:59,787 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-12 01:35:59,788 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-12 01:35:59,788 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-12 01:35:59,797 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-12 01:35:59,860 - qmt_trading.main - INFO - 启动策略线程
2025-06-12 01:35:59,953 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-12 01:36:00,015 - qmt_trading.main - INFO - 启动卖出策略线程
2025-06-12 01:36:00,093 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环开始
2025-06-12 01:36:00,108 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已启动
2025-06-12 01:36:00,264 - qmt_trading.main - INFO - 启动日志清理线程
2025-06-12 01:36:00,435 - qmt_trading.main - INFO - 启动Web服务器线程
2025-06-12 01:36:00,450 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v5
2025-06-12 01:36:00,529 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-06-12 01:36:00,544 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-12 01:36:01,369 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:36:01,404 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:36:01,712 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v6
2025-06-12 01:36:01,727 - qmt_trading.position_manager - ERROR - 更新 002261 持仓Error: cannot commit - no transaction is active
2025-06-12 01:36:01,789 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 01:36:02,118 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 3 条记录
2025-06-12 01:36:02,350 - qmt_trading.position_manager - DEBUG - 全量刷新 300638: 价格=26.25, 最高价=26.25, 盈亏率=-3.88%, 止损价=25.40
2025-06-12 01:36:02,396 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v7
2025-06-12 01:36:02,412 - qmt_trading.position_manager - INFO - 模拟交易全量刷新完成，更新了 2 只股票的数据
2025-06-12 01:36:03,344 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 01:36:04,077 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v8
2025-06-12 01:36:04,980 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:36:05,226 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v9
2025-06-12 01:36:05,288 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 01:36:05,602 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 3 条记录
2025-06-12 01:36:06,518 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-12 01:36:07,281 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-12 01:36:07,529 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 01:36:08,042 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-12 01:36:08,774 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-12 01:36:09,458 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-12 01:36:10,203 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-12 01:36:10,842 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-12 01:36:11,587 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-12 01:36:12,286 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-12 01:36:12,660 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 01:36:12,939 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-12 01:36:13,639 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-12 01:36:14,401 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-12 01:36:15,100 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-12 01:36:16,560 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 01:36:17,248 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:36:17,492 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v10
2025-06-12 01:36:17,803 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 01:36:18,022 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:36:18,317 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v11
2025-06-12 01:36:19,174 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 01:36:19,902 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 01:36:20,276 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v12
2025-06-12 01:36:20,959 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v13
2025-06-12 01:36:21,179 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:36:21,427 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v14
2025-06-12 01:36:21,505 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 01:36:21,788 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 3 条记录
2025-06-12 01:36:21,882 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:36:22,111 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v15
2025-06-12 01:36:22,142 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 01:36:22,408 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 3 条记录
2025-06-12 01:36:22,500 - qmt_trading.web_server - DEBUG - 当前状态: UI监控=False, 自动交易=False, 持仓监控=True
2025-06-12 01:36:22,593 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-12 01:36:22,936 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 01:36:23,186 - qmt_trading.position_manager - DEBUG - 获取到 3 条持仓记录（所有字段），并计算了涨跌幅
2025-06-12 01:36:23,310 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-12 01:36:24,027 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-12 01:36:24,741 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-12 01:36:25,439 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-12 01:36:26,202 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-12 01:36:26,965 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-12 01:36:27,617 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-12 01:36:28,053 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 01:36:28,318 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-12 01:36:29,065 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-12 01:36:29,782 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-12 01:36:30,466 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-12 01:36:31,135 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-12 01:36:33,174 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 01:36:33,330 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:36:33,593 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v16
2025-06-12 01:36:35,321 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 01:36:35,758 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 01:36:35,943 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v17
2025-06-12 01:36:36,843 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:36:36,905 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:36:37,075 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v18
2025-06-12 01:36:37,153 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 01:36:37,168 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v19
2025-06-12 01:36:37,389 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 3 条记录
2025-06-12 01:36:38,087 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-12 01:36:38,320 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 01:36:38,654 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-12 01:36:38,802 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 01:36:39,361 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-12 01:36:39,843 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v20
2025-06-12 01:36:40,201 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-12 01:36:40,794 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:36:40,949 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-12 01:36:41,277 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v21
2025-06-12 01:36:41,354 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 01:36:41,637 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 3 条记录
2025-06-12 01:36:41,666 - qmt_trading.web_server - DEBUG - SSE推送持仓数据变化通知: v16
2025-06-12 01:36:41,869 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-12 01:36:42,164 - qmt_trading.position_manager - DEBUG - 获取到 3 条持仓记录（所有字段），并计算了涨跌幅
2025-06-12 01:36:42,553 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-12 01:36:42,863 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 01:36:43,142 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-12 01:36:43,438 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 01:36:44,075 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-12 01:36:44,204 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:36:44,558 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v22
2025-06-12 01:36:44,870 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-12 01:36:45,460 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-12 01:36:46,097 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 01:36:46,159 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-12 01:36:46,904 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-12 01:36:47,247 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v23
2025-06-12 01:36:48,214 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:36:48,505 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v24
2025-06-12 01:36:48,568 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 01:36:48,583 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 01:36:48,833 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 3 条记录
2025-06-12 01:36:48,910 - qmt_trading.web_server - DEBUG - SSE推送持仓数据变化通知: v21
2025-06-12 01:36:49,052 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:36:49,252 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v25
2025-06-12 01:36:49,424 - qmt_trading.position_manager - DEBUG - 获取到 3 条持仓记录（所有字段），并计算了涨跌幅
2025-06-12 01:36:50,075 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 01:36:50,806 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 01:36:50,966 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:36:51,258 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v26
2025-06-12 01:36:51,461 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v27
2025-06-12 01:36:52,317 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:36:52,551 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v28
2025-06-12 01:36:52,613 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 01:36:53,034 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 01:36:53,097 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 3 条记录
2025-06-12 01:36:53,689 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-12 01:36:53,704 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 01:36:54,124 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v29
2025-06-12 01:36:54,515 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-12 01:36:55,138 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:36:55,138 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-12 01:36:55,387 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v30
2025-06-12 01:36:55,418 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 01:36:55,776 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 3 条记录
2025-06-12 01:36:55,823 - qmt_trading.web_server - DEBUG - SSE推送持仓数据变化通知: v25
2025-06-12 01:36:56,010 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-12 01:36:56,339 - qmt_trading.position_manager - DEBUG - 获取到 3 条持仓记录（所有字段），并计算了涨跌幅
2025-06-12 01:36:56,805 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-12 01:36:56,992 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 01:36:57,615 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-12 01:36:58,313 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:36:58,345 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-12 01:36:58,516 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v31
2025-06-12 01:36:58,875 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 01:36:58,907 - qmt_trading.position_manager - INFO - 执行模拟交易全量数据刷新
2025-06-12 01:36:58,954 - qmt_trading.position_manager - INFO - 开始执行模拟交易全量数据刷新
2025-06-12 01:36:59,187 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-12 01:36:59,890 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-12 01:37:00,076 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 01:37:00,172 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:37:00,417 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v32
2025-06-12 01:37:00,480 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-12 01:37:00,837 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v33
2025-06-12 01:37:01,196 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-12 01:37:01,788 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:37:01,927 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-12 01:37:02,051 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v34
2025-06-12 01:37:02,099 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 01:37:02,319 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 3 条记录
2025-06-12 01:37:02,347 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 01:37:02,363 - qmt_trading.web_server - DEBUG - SSE推送持仓数据变化通知: v30
2025-06-12 01:37:02,721 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-12 01:37:02,954 - qmt_trading.position_manager - DEBUG - 获取到 3 条持仓记录（所有字段），并计算了涨跌幅
2025-06-12 01:37:03,077 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v35
2025-06-12 01:37:03,495 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 01:37:04,025 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:37:04,243 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v36
2025-06-12 01:37:04,274 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 01:37:04,650 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:37:04,697 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 3 条记录
2025-06-12 01:37:04,973 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v37
2025-06-12 01:37:05,084 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:37:05,284 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v38
2025-06-12 01:37:05,767 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:37:06,609 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 01:37:06,935 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:37:06,998 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 01:37:07,216 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v39
2025-06-12 01:37:07,403 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v40
2025-06-12 01:37:08,133 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v41
2025-06-12 01:37:08,339 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:37:08,522 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v42
2025-06-12 01:37:08,584 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 01:37:08,927 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 01:37:08,928 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 3 条记录
2025-06-12 01:37:09,083 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:37:09,083 - qmt_trading.web_server - DEBUG - SSE推送持仓数据变化通知: v35
2025-06-12 01:37:09,332 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v43
2025-06-12 01:37:09,379 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 01:37:09,690 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 3 条记录
2025-06-12 01:37:09,690 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v44
2025-06-12 01:37:10,328 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 01:37:10,499 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-12 01:37:10,810 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:37:11,089 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v45
2025-06-12 01:37:11,121 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 01:37:11,246 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-12 01:37:11,400 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 3 条记录
2025-06-12 01:37:11,495 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:37:11,618 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v46
2025-06-12 01:37:11,618 - qmt_trading.position_manager - DEBUG - 全量刷新 002261: 价格=30.21, 最高价=30.21, 盈亏率=-3.73%, 止损价=29.18
2025-06-12 01:37:12,148 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-12 01:37:12,694 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-12 01:37:13,316 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-12 01:37:13,317 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 01:37:13,347 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 01:37:13,564 - qmt_trading.position_manager - DEBUG - 无法获取 159813 的最新行情，跳过刷新
2025-06-12 01:37:14,048 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-12 01:37:14,311 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v47
2025-06-12 01:37:14,685 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:37:14,872 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-12 01:37:15,185 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:37:15,494 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v48
2025-06-12 01:37:15,494 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-12 01:37:15,525 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 01:37:15,758 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:37:15,977 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 3 条记录
2025-06-12 01:37:16,023 - qmt_trading.web_server - DEBUG - SSE推送持仓数据变化通知: v44
2025-06-12 01:37:16,023 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v49
2025-06-12 01:37:16,209 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-12 01:37:16,947 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-12 01:37:17,141 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 01:37:17,716 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-12 01:37:17,717 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 01:37:18,386 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-12 01:37:18,415 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:37:18,461 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v50
2025-06-12 01:37:18,709 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v51
2025-06-12 01:37:19,099 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-12 01:37:19,379 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:37:19,550 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v52
2025-06-12 01:37:19,596 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 01:37:19,847 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 3 条记录
2025-06-12 01:37:19,999 - qmt_trading.position_manager - DEBUG - 全量刷新 300638: 价格=26.25, 最高价=26.25, 盈亏率=-3.88%, 止损价=25.40
2025-06-12 01:37:20,061 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v53
2025-06-12 01:37:20,108 - qmt_trading.position_manager - INFO - 模拟交易全量刷新完成，更新了 2 只股票的数据
2025-06-12 01:37:20,357 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 01:37:21,118 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v54
2025-06-12 01:37:21,184 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:37:21,400 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v55
2025-06-12 01:37:21,960 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:37:22,209 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v56
2025-06-12 01:37:22,256 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 01:37:22,491 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 3 条记录
2025-06-12 01:37:22,552 - qmt_trading.web_server - DEBUG - SSE推送持仓数据变化通知: v49
2025-06-12 01:37:22,879 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 01:37:23,608 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v57
2025-06-12 01:37:23,686 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 01:37:24,576 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:37:24,805 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v58
2025-06-12 01:37:24,882 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 01:37:25,073 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:37:25,088 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 3 条记录
2025-06-12 01:37:25,210 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v59
2025-06-12 01:37:25,257 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 01:37:25,800 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-12 01:37:26,454 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-12 01:37:26,765 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 01:37:27,122 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-12 01:37:27,588 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v60
2025-06-12 01:37:27,885 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-12 01:37:28,512 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:37:28,518 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v61
2025-06-12 01:37:28,518 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 01:37:28,525 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 3 条记录
2025-06-12 01:37:28,526 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-12 01:37:28,527 - qmt_trading.web_server - DEBUG - SSE推送持仓数据变化通知: v57
2025-06-12 01:37:28,941 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-12 01:37:29,530 - qmt_trading.position_manager - DEBUG - 返回模拟账户信息，余额: 1000000
2025-06-12 01:37:29,654 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-12 01:37:30,432 - qmt_trading.position_manager - DEBUG - 模拟交易模式：跳过内存数据库到SQLite数据库的同步
2025-06-12 01:37:30,463 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-12 01:37:30,576 - qmt_trading.data_manager - DEBUG - Mootdx:002261 最新行情: {'lastPrice': 30.21, 'lastClose': 30.31, 'volume': 543915.0, 'amount': 1647271040.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:37:30,820 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v62
2025-06-12 01:37:31,224 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-12 01:37:31,566 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-06-12 01:37:31,644 - qmt_trading.main - INFO - 开始清理资源...
2025-06-12 01:37:31,721 - qmt_trading.main - INFO - 停止 data_thread...
2025-06-12 01:37:31,846 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-12 01:37:32,342 - qmt_trading.data_manager - ERROR - 获取 159813 的latest_data出错: Length mismatch: Expected axis has 4 elements, new values have 2 elements
2025-06-12 01:37:32,357 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-06-12 01:37:32,482 - qmt_trading.main - INFO - 停止 position_thread...
2025-06-12 01:37:32,513 - qmt_trading.position_manager - INFO - 持仓监控线程已停止
2025-06-12 01:37:32,513 - qmt_trading.main - INFO - 停止 strategy_thread...
2025-06-12 01:37:32,532 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-12 01:37:32,660 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-12 01:37:32,661 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v63
2025-06-12 01:37:32,756 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-12 01:37:32,792 - qmt_trading.data_manager - DEBUG - Mootdx:300638 最新行情: {'lastPrice': 26.25, 'lastClose': 26.05, 'volume': 228603.0, 'amount': 605667200.0, 'date': '2025-06-11 15:00'}
2025-06-12 01:37:32,793 - qmt_trading.position_manager - DEBUG - 持仓数据版本更新: v64
2025-06-12 01:37:32,793 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-12 01:37:32,796 - qmt_trading.position_manager - DEBUG - 更新持仓缓存，共 3 条记录
2025-06-12 01:37:32,796 - qmt_trading.web_server - DEBUG - SSE推送持仓数据变化通知: v61
2025-06-12 01:37:32,885 - qmt_trading.strategy - INFO - 策略线程已停止
2025-06-12 01:37:32,886 - qmt_trading.main - INFO - 停止 sell_strategy_thread...
2025-06-12 01:37:33,771 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环结束
2025-06-12 01:37:33,771 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已停止
2025-06-12 01:37:33,771 - qmt_trading.main - INFO - 停止 log_thread...
2025-06-12 01:37:33,771 - qmt_trading.main - INFO - 停止 web_thread...
2025-06-12 01:37:33,772 - qmt_trading.main - ERROR - 关闭交易策略时出错: 'TradingStrategy' object has no attribute 'close'
2025-06-12 01:37:33,772 - qmt_trading.trading_executor - INFO - 交易执行器已关闭
2025-06-12 01:37:33,772 - qmt_trading.data_manager - INFO - 数据库连接已关闭
2025-06-12 01:37:33,773 - qmt_trading.data_manager - ERROR - 断开行情连接出错: module 'xtquant.xtdata' has no attribute 'disconnect'
2025-06-12 01:37:33,773 - qmt_trading.main - INFO - 资源清理完成
2025-06-12 01:37:33,773 - qmt_trading.main - INFO - 系统已退出
2025-06-12 21:36:21,753 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-12 21:36:21,757 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-12 21:36:23,824 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-12 21:36:23,859 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-12 21:36:23,861 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-12 21:36:23,861 - qmt_trading.trading_executor - WARNING - 非模拟交易模式，无法初始化模拟账户
2025-06-12 21:36:23,861 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-12 21:36:23,868 - qmt_trading.main - INFO - ==================================================
2025-06-12 21:36:23,868 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-12 21:36:23 
2025-06-12 21:36:23,868 - qmt_trading.main - INFO - ==================================================
2025-06-12 21:36:23,868 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-12 21:36:23,869 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-12 21:36:23,869 - qmt_trading.main - INFO - 系统初始化完成
2025-06-12 21:36:23,869 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-12 21:36:23,869 - qmt_trading.main - INFO - 下载 002261 的历史数据
2025-06-12 21:36:25,003 - qmt_trading.main - INFO - 下载 159813 的历史数据
2025-06-12 21:36:25,601 - qmt_trading.data_manager - WARNING - 下载 159813 数据时发生长度不匹配错误，使用默认数据
2025-06-12 21:36:26,607 - qmt_trading.main - INFO - 下载 300638 的历史数据
2025-06-12 21:36:27,742 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-12 21:36:27,742 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-12 21:36:27,745 - qmt_trading.indicator_calculator - WARNING - 数据长度不足以计算MA10，需要10条数据，实际1条
2025-06-12 21:36:27,746 - qmt_trading.indicator_calculator - WARNING - 数据长度不足以计算MA20，需要20条数据，实际1条
2025-06-12 21:36:27,746 - qmt_trading.indicator_calculator - WARNING - 数据长度不足以计算MA30，需要30条数据，实际1条
2025-06-12 21:36:27,747 - qmt_trading.indicator_calculator - WARNING - 数据长度不足以计算MA60，需要60条数据，实际1条
2025-06-12 21:36:27,748 - qmt_trading.indicator_calculator - WARNING - 数据长度不足以计算MACD，需要至少36条数据，实际1条
2025-06-12 21:36:27,754 - qmt_trading.indicator_calculator - INFO - 成功计算 002261 的技术指标，共 1 条记录
2025-06-12 21:36:27,755 - qmt_trading.indicator_calculator - WARNING - 没有 159813 的历史数据，无法计算指标
2025-06-12 21:36:27,757 - qmt_trading.indicator_calculator - WARNING - 数据长度不足以计算MA10，需要10条数据，实际1条
2025-06-12 21:36:27,758 - qmt_trading.indicator_calculator - WARNING - 数据长度不足以计算MA20，需要20条数据，实际1条
2025-06-12 21:36:27,758 - qmt_trading.indicator_calculator - WARNING - 数据长度不足以计算MA30，需要30条数据，实际1条
2025-06-12 21:36:27,759 - qmt_trading.indicator_calculator - WARNING - 数据长度不足以计算MA60，需要60条数据，实际1条
2025-06-12 21:36:27,759 - qmt_trading.indicator_calculator - WARNING - 数据长度不足以计算MACD，需要至少36条数据，实际1条
2025-06-12 21:36:27,764 - qmt_trading.indicator_calculator - INFO - 成功计算 300638 的技术指标，共 1 条记录
2025-06-12 21:36:27,764 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-12 21:36:27,764 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-12 21:36:27,765 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-12 21:36:27,765 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-12 21:36:27,773 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-12 21:36:27,835 - qmt_trading.main - INFO - 启动策略线程
2025-06-12 21:36:27,929 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-12 21:36:27,975 - qmt_trading.main - INFO - 启动卖出策略线程
2025-06-12 21:36:28,054 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环开始
2025-06-12 21:36:28,069 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已启动
2025-06-12 21:36:28,162 - qmt_trading.main - INFO - 启动日志清理线程
2025-06-12 21:36:28,256 - qmt_trading.main - INFO - 启动Web服务器线程
2025-06-12 21:36:28,303 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-06-12 21:36:28,318 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-12 21:36:40,500 - qmt_trading.position_manager - INFO - 更新 stock_pool.json with new positions.
2025-06-12 21:36:41,249 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-12 21:36:42,012 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-12 21:36:42,698 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-12 21:36:43,305 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-12 21:36:43,741 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-12 21:36:44,006 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-12 21:36:44,288 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-12 21:36:44,487 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-12 21:36:44,815 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-12 21:36:45,513 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-12 21:36:46,168 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-12 21:36:46,808 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-12 21:36:47,569 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-12 21:36:52,819 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-12 21:36:53,565 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-12 21:36:54,280 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-12 21:36:54,934 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-12 21:36:55,651 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-12 21:36:56,432 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-12 21:36:57,132 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-12 21:36:57,864 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-12 21:36:58,503 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-12 21:36:59,173 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-12 21:36:59,904 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-12 21:37:00,527 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-12 21:58:49,267 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-12 21:58:49,269 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-12 21:58:51,328 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-12 21:58:51,358 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-12 21:58:51,360 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-12 21:58:51,360 - qmt_trading.trading_executor - WARNING - 非模拟交易模式，无法初始化模拟账户
2025-06-12 21:58:51,360 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-12 21:58:51,367 - qmt_trading.main - INFO - ==================================================
2025-06-12 21:58:51,367 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-12 21:58:51 
2025-06-12 21:58:51,367 - qmt_trading.main - INFO - ==================================================
2025-06-12 21:58:51,367 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-12 21:58:51,367 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-12 21:58:51,368 - qmt_trading.main - INFO - 系统初始化完成
2025-06-12 21:58:51,368 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-12 21:58:51,368 - qmt_trading.main - INFO - 下载 001298 的历史数据
2025-06-12 21:58:51,471 - qmt_trading.data_manager - WARNING - 001298 过滤了 1 行空date数据
2025-06-12 21:58:52,481 - qmt_trading.main - INFO - 下载 002261 的历史数据
2025-06-12 21:58:53,617 - qmt_trading.main - INFO - 下载 300638 的历史数据
2025-06-12 21:58:54,750 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-12 21:58:54,750 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-12 21:58:54,760 - qmt_trading.indicator_calculator - INFO - 成功计算 001298 的技术指标，共 60 条记录
2025-06-12 21:58:54,763 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-12 21:58:54,763 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-12 21:58:54,763 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-12 21:58:54,763 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-12 21:58:54,781 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-12 21:58:54,812 - qmt_trading.main - INFO - 启动策略线程
2025-06-12 21:58:54,875 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-12 21:58:54,937 - qmt_trading.main - INFO - 启动卖出策略线程
2025-06-12 21:58:55,000 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环开始
2025-06-12 21:58:55,016 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已启动
2025-06-12 21:58:55,125 - qmt_trading.main - INFO - 启动日志清理线程
2025-06-12 21:58:55,235 - qmt_trading.main - INFO - 启动Web服务器线程
2025-06-12 21:58:55,344 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-06-12 21:58:55,360 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-12 21:59:03,647 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-12 21:59:04,366 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-12 21:59:05,022 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-12 21:59:05,757 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-12 21:59:06,411 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-12 21:59:07,018 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-12 21:59:07,580 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-12 21:59:08,268 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-12 21:59:09,047 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-12 21:59:09,782 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-12 21:59:10,514 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-12 21:59:11,234 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-12 21:59:11,904 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-12 21:59:12,341 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-06-12 21:59:12,403 - qmt_trading.main - INFO - 开始清理资源...
2025-06-12 21:59:12,449 - qmt_trading.main - INFO - 停止 data_thread...
2025-06-12 21:59:13,029 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-06-12 21:59:13,091 - qmt_trading.main - INFO - 停止 position_thread...
2025-06-12 21:59:13,122 - qmt_trading.position_manager - INFO - 持仓监控线程已停止
2025-06-12 21:59:13,122 - qmt_trading.main - INFO - 停止 strategy_thread...
2025-06-12 21:59:13,215 - qmt_trading.strategy - INFO - 策略线程已停止
2025-06-12 21:59:13,215 - qmt_trading.main - INFO - 停止 sell_strategy_thread...
2025-06-12 21:59:14,494 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环结束
2025-06-12 21:59:14,495 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已停止
2025-06-12 21:59:14,495 - qmt_trading.main - INFO - 停止 log_thread...
2025-06-12 21:59:14,495 - qmt_trading.main - INFO - 停止 web_thread...
2025-06-12 21:59:14,495 - qmt_trading.main - ERROR - 关闭交易策略时出错: 'TradingStrategy' object has no attribute 'close'
2025-06-12 21:59:14,495 - qmt_trading.trading_executor - INFO - 交易执行器已关闭
2025-06-12 21:59:14,496 - qmt_trading.data_manager - INFO - 数据库连接已关闭
2025-06-12 21:59:14,496 - qmt_trading.data_manager - ERROR - 断开行情连接出错: module 'xtquant.xtdata' has no attribute 'disconnect'
2025-06-12 21:59:14,496 - qmt_trading.main - INFO - 资源清理完成
2025-06-12 21:59:14,496 - qmt_trading.main - INFO - 系统已退出
2025-06-13 00:05:33,606 - qmt_trading.test_监控持仓卖出 - INFO - 持仓监控卖出测试程序启动
2025-06-13 00:05:35,657 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-13 00:05:35,658 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-13 00:05:35,659 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-13 00:05:35,690 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-13 00:05:35,693 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-13 00:05:35,693 - qmt_trading.trading_executor - WARNING - 非模拟交易模式，无法初始化模拟账户
2025-06-13 00:05:35,694 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:05:35,694 - qmt_trading.test_监控持仓卖出 - INFO - 持仓监控卖出模块初始化完成
2025-06-13 00:05:35,694 - qmt_trading.test_监控持仓卖出 - INFO - ============================================================
2025-06-13 00:05:35,695 - qmt_trading.test_监控持仓卖出 - INFO - 启动持仓监控卖出系统
2025-06-13 00:05:35,695 - qmt_trading.test_监控持仓卖出 - INFO - ============================================================
2025-06-13 00:05:35,695 - qmt_trading.test_监控持仓卖出 - INFO - 当前卖出策略配置:
2025-06-13 00:05:35,696 - qmt_trading.test_监控持仓卖出 - INFO -   - 模拟交易模式: False
2025-06-13 00:05:35,696 - qmt_trading.test_监控持仓卖出 - INFO -   - 允许卖出: True
2025-06-13 00:05:35,696 - qmt_trading.test_监控持仓卖出 - INFO -   - 监控间隔: 1秒
2025-06-13 00:05:35,697 - qmt_trading.test_监控持仓卖出 - INFO - 
2025-06-13 00:05:35,697 - qmt_trading.test_监控持仓卖出 - INFO - 8条卖出规则配置:
2025-06-13 00:05:35,697 - qmt_trading.test_监控持仓卖出 - INFO -   规则1 - 高开回落: 涨幅>3.0%, 回落>2.0%
2025-06-13 00:05:35,697 - qmt_trading.test_监控持仓卖出 - INFO -   规则2 - 低开回落: 涨幅>5.0%, 回落>3.0%
2025-06-13 00:05:35,698 - qmt_trading.test_监控持仓卖出 - INFO -   规则3 - 低开涨幅回落: 涨幅>6.0%, 回落>3.0%
2025-06-13 00:05:35,698 - qmt_trading.test_监控持仓卖出 - INFO -   规则4 - 通用涨幅回落: 涨幅>8.0%, 回落>4.0%
2025-06-13 00:05:35,698 - qmt_trading.test_监控持仓卖出 - INFO -   规则5 - 尾盘卖出: 启用
2025-06-13 00:05:35,699 - qmt_trading.test_监控持仓卖出 - INFO -   规则6 - 涨停炸板: 封单阈值<5,000,000元
2025-06-13 00:05:35,699 - qmt_trading.test_监控持仓卖出 - INFO -   规则7 - 委托撤单: 超时>2秒
2025-06-13 00:05:35,699 - qmt_trading.test_监控持仓卖出 - INFO -   规则8 - 最大回撤: 回撤>5.0%
2025-06-13 00:05:35,700 - qmt_trading.test_监控持仓卖出 - INFO - 
2025-06-13 00:05:40,428 - qmt_trading.test_监控持仓卖出 - INFO - === 原始持仓数据调试 ===
2025-06-13 00:05:40,429 - qmt_trading.test_监控持仓卖出 - INFO - 原始数据 - 股票: 001298, 成本价: 23.12, 当前价: 23.12, 盈亏比例: 0.0
2025-06-13 00:05:40,429 - qmt_trading.test_监控持仓卖出 - INFO - 原始数据 - 股票: 002261, 成本价: 31.38, 当前价: 31.38, 盈亏比例: 0.0
2025-06-13 00:05:40,430 - qmt_trading.test_监控持仓卖出 - INFO - 原始数据 - 股票: 300638, 成本价: 27.31, 当前价: 27.31, 盈亏比例: 0.0
2025-06-13 00:05:40,430 - qmt_trading.test_监控持仓卖出 - INFO - === 原始数据调试结束 ===
2025-06-13 00:05:40,431 - qmt_trading.test_监控持仓卖出 - INFO - [94m[1m📊 当前持仓 (3只):[0m
2025-06-13 00:05:40,431 - qmt_trading.test_监控持仓卖出 - INFO - [94m==============================================================================================================[0m
2025-06-13 00:05:40,431 - qmt_trading.test_监控持仓卖出 - INFO - [1m[4m股票代码     股票名称       数量       成本价      当前价      盈亏金额       盈亏%      市值           可用       状态  [0m
2025-06-13 00:05:40,431 - qmt_trading.test_监控持仓卖出 - INFO - [94m==============================================================================================================[0m
2025-06-13 00:05:40,433 - qmt_trading.test_监控持仓卖出 - INFO - 获取 001298 最新价格 (xtdata.get_full_tick): 21.94
2025-06-13 00:05:40,433 - qmt_trading.test_监控持仓卖出 - INFO - 计算 001298 盈亏: 成本价=23.12, 当前价=21.94, 盈亏比例=-5.1%, 盈亏金额=-826.0
2025-06-13 00:05:40,433 - qmt_trading.test_监控持仓卖出 - INFO - [96m001298  [0m [97m好上好       [0m [97m700     [0m [97m23.12   [0m [97m21.94   [0m [91m-826.00   [0m [91m-5.10  %[0m [97m16183.87    [0m [97m700     [0m [91m📉   [0m
2025-06-13 00:05:40,435 - qmt_trading.test_监控持仓卖出 - INFO - 获取 002261 最新价格 (xtdata.get_full_tick): 29.96
2025-06-13 00:05:40,435 - qmt_trading.test_监控持仓卖出 - INFO - 计算 002261 盈亏: 成本价=31.38, 当前价=29.96, 盈亏比例=-4.53%, 盈亏金额=-142.0
2025-06-13 00:05:40,435 - qmt_trading.test_监控持仓卖出 - INFO - [96m002261  [0m [97m拓维信息      [0m [97m100     [0m [97m31.38   [0m [97m29.96   [0m [91m-142.00   [0m [91m-4.53  %[0m [97m3138.00     [0m [97m100     [0m [91m📉   [0m
2025-06-13 00:05:40,436 - qmt_trading.test_监控持仓卖出 - INFO - 获取 300638 最新价格 (xtdata.get_full_tick): 26.07
2025-06-13 00:05:40,437 - qmt_trading.test_监控持仓卖出 - INFO - 计算 300638 盈亏: 成本价=27.31, 当前价=26.07, 盈亏比例=-4.54%, 盈亏金额=-372.0
2025-06-13 00:05:40,437 - qmt_trading.test_监控持仓卖出 - INFO - [96m300638  [0m [97m广和通       [0m [97m300     [0m [97m27.31   [0m [97m26.07   [0m [91m-372.00   [0m [91m-4.54  %[0m [97m8192.78     [0m [97m300     [0m [91m📉   [0m
2025-06-13 00:05:40,438 - qmt_trading.test_监控持仓卖出 - INFO - [94m==============================================================================================================[0m
2025-06-13 00:05:40,439 - qmt_trading.test_监控持仓卖出 - INFO - [95m[1m💰 总计:[0m [97m成本=27,515.00元[0m, [97m市值=27,515.00元[0m, [93m[1m盈亏=+0.00元(+0.00%)[0m [93m➖ 持平[0m
2025-06-13 00:05:40,439 - qmt_trading.test_监控持仓卖出 - INFO - 
2025-06-13 00:05:40,440 - qmt_trading.test_监控持仓卖出 - INFO - 持仓监控循环开始
2025-06-13 00:05:40,440 - qmt_trading.test_监控持仓卖出 - INFO - 持仓监控线程已启动，按 Ctrl+C 停止监控
2025-06-13 00:06:35,345 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-13 00:06:35,346 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-13 00:06:37,398 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-13 00:06:37,433 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-13 00:06:37,436 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-13 00:06:37,437 - qmt_trading.trading_executor - WARNING - 非模拟交易模式，无法初始化模拟账户
2025-06-13 00:06:37,437 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:06:37,443 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:06:37,444 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-13 00:06:37 
2025-06-13 00:06:37,444 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:06:37,444 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-13 00:06:37,445 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:06:37,445 - qmt_trading.main - INFO - 系统初始化完成
2025-06-13 00:06:37,445 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-13 00:06:37,445 - qmt_trading.main - INFO - 下载 001298 的历史数据
2025-06-13 00:06:38,453 - qmt_trading.main - INFO - 下载 002261 的历史数据
2025-06-13 00:06:39,465 - qmt_trading.main - INFO - 下载 300638 的历史数据
2025-06-13 00:06:40,475 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-13 00:06:40,475 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-13 00:06:40,479 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-13 00:06:40,479 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-13 00:06:40,480 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-13 00:06:40,480 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-13 00:06:40,490 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-13 00:06:40,567 - qmt_trading.main - INFO - 启动策略线程
2025-06-13 00:06:40,692 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-13 00:06:40,786 - qmt_trading.main - INFO - 启动卖出策略线程
2025-06-13 00:06:40,896 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环开始
2025-06-13 00:06:40,896 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已启动
2025-06-13 00:06:41,083 - qmt_trading.main - INFO - 启动日志清理线程
2025-06-13 00:06:41,393 - qmt_trading.main - INFO - 启动Web服务器线程
2025-06-13 00:06:41,564 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-06-13 00:06:41,580 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-13 00:07:19,057 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-06-13 00:07:19,135 - qmt_trading.main - INFO - 开始清理资源...
2025-06-13 00:07:19,244 - qmt_trading.main - INFO - 停止 data_thread...
2025-06-13 00:07:20,164 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-06-13 00:07:20,273 - qmt_trading.main - INFO - 停止 position_thread...
2025-06-13 00:07:20,365 - qmt_trading.position_manager - INFO - 持仓监控线程已停止
2025-06-13 00:07:20,366 - qmt_trading.main - INFO - 停止 strategy_thread...
2025-06-13 00:07:20,490 - qmt_trading.strategy - INFO - 策略线程已停止
2025-06-13 00:07:20,491 - qmt_trading.main - INFO - 停止 sell_strategy_thread...
2025-06-13 00:07:21,111 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环结束
2025-06-13 00:07:21,111 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已停止
2025-06-13 00:07:21,112 - qmt_trading.main - INFO - 停止 log_thread...
2025-06-13 00:07:21,112 - qmt_trading.main - INFO - 停止 web_thread...
2025-06-13 00:07:21,113 - qmt_trading.main - ERROR - 关闭交易策略时出错: 'TradingStrategy' object has no attribute 'close'
2025-06-13 00:07:21,113 - qmt_trading.trading_executor - INFO - 交易执行器已关闭
2025-06-13 00:07:21,113 - qmt_trading.data_manager - INFO - 数据库连接已关闭
2025-06-13 00:07:21,114 - qmt_trading.data_manager - ERROR - 断开行情连接出错: module 'xtquant.xtdata' has no attribute 'disconnect'
2025-06-13 00:07:21,114 - qmt_trading.main - INFO - 资源清理完成
2025-06-13 00:07:21,115 - qmt_trading.main - INFO - 系统已退出
2025-06-13 00:07:30,504 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-13 00:07:30,505 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-13 00:07:32,554 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-13 00:07:32,584 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-13 00:07:32,588 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-13 00:07:32,589 - qmt_trading.trading_executor - WARNING - 非模拟交易模式，无法初始化模拟账户
2025-06-13 00:07:32,589 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:07:32,594 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:07:32,595 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-13 00:07:32 
2025-06-13 00:07:32,596 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:07:32,596 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-13 00:07:32,596 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:07:32,596 - qmt_trading.main - INFO - 系统初始化完成
2025-06-13 00:07:32,597 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-13 00:07:32,597 - qmt_trading.main - INFO - 下载 001298 的历史数据
2025-06-13 00:07:33,608 - qmt_trading.main - INFO - 下载 002261 的历史数据
2025-06-13 00:07:34,616 - qmt_trading.main - INFO - 下载 300638 的历史数据
2025-06-13 00:07:35,624 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-13 00:07:35,625 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-13 00:07:35,629 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-13 00:07:35,629 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-13 00:07:35,630 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-13 00:07:35,630 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-13 00:07:35,639 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-13 00:07:35,686 - qmt_trading.main - INFO - 启动策略线程
2025-06-13 00:07:35,826 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-13 00:07:35,919 - qmt_trading.main - INFO - 启动卖出策略线程
2025-06-13 00:07:36,014 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环开始
2025-06-13 00:07:36,029 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已启动
2025-06-13 00:07:36,262 - qmt_trading.main - INFO - 启动日志清理线程
2025-06-13 00:07:36,341 - qmt_trading.main - INFO - 启动Web服务器线程
2025-06-13 00:07:36,496 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-06-13 00:07:36,511 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-13 00:08:55,244 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-06-13 00:08:55,323 - qmt_trading.main - INFO - 开始清理资源...
2025-06-13 00:08:55,385 - qmt_trading.main - INFO - 停止 data_thread...
2025-06-13 00:08:55,915 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-06-13 00:08:56,024 - qmt_trading.main - INFO - 停止 position_thread...
2025-06-13 00:08:56,086 - qmt_trading.position_manager - INFO - 持仓监控线程已停止
2025-06-13 00:08:56,087 - qmt_trading.main - INFO - 停止 strategy_thread...
2025-06-13 00:08:56,836 - qmt_trading.strategy - INFO - 策略线程已停止
2025-06-13 00:08:56,836 - qmt_trading.main - INFO - 停止 sell_strategy_thread...
2025-06-13 00:08:57,100 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环结束
2025-06-13 00:08:57,100 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已停止
2025-06-13 00:08:57,101 - qmt_trading.main - INFO - 停止 log_thread...
2025-06-13 00:08:57,101 - qmt_trading.main - INFO - 停止 web_thread...
2025-06-13 00:08:57,101 - qmt_trading.main - ERROR - 关闭交易策略时出错: 'TradingStrategy' object has no attribute 'close'
2025-06-13 00:08:57,102 - qmt_trading.trading_executor - INFO - 交易执行器已关闭
2025-06-13 00:08:57,102 - qmt_trading.data_manager - INFO - 数据库连接已关闭
2025-06-13 00:08:57,102 - qmt_trading.data_manager - ERROR - 断开行情连接出错: module 'xtquant.xtdata' has no attribute 'disconnect'
2025-06-13 00:08:57,103 - qmt_trading.main - INFO - 资源清理完成
2025-06-13 00:08:57,103 - qmt_trading.main - INFO - 系统已退出
2025-06-13 00:09:34,216 - qmt_trading.test_监控持仓卖出 - INFO - 持仓监控卖出测试程序启动
2025-06-13 00:09:36,276 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-13 00:09:36,277 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-13 00:09:36,277 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-13 00:09:36,309 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-13 00:09:36,312 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-13 00:09:36,312 - qmt_trading.trading_executor - WARNING - 非模拟交易模式，无法初始化模拟账户
2025-06-13 00:09:36,313 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:09:36,313 - qmt_trading.test_监控持仓卖出 - INFO - 持仓监控卖出模块初始化完成
2025-06-13 00:09:36,313 - qmt_trading.test_监控持仓卖出 - INFO - ============================================================
2025-06-13 00:09:36,314 - qmt_trading.test_监控持仓卖出 - INFO - 启动持仓监控卖出系统
2025-06-13 00:09:36,314 - qmt_trading.test_监控持仓卖出 - INFO - ============================================================
2025-06-13 00:09:36,314 - qmt_trading.test_监控持仓卖出 - INFO - 当前卖出策略配置:
2025-06-13 00:09:36,315 - qmt_trading.test_监控持仓卖出 - INFO -   - 模拟交易模式: False
2025-06-13 00:09:36,315 - qmt_trading.test_监控持仓卖出 - INFO -   - 允许卖出: True
2025-06-13 00:09:36,315 - qmt_trading.test_监控持仓卖出 - INFO -   - 监控间隔: 1秒
2025-06-13 00:09:36,316 - qmt_trading.test_监控持仓卖出 - INFO - 
2025-06-13 00:09:36,316 - qmt_trading.test_监控持仓卖出 - INFO - 8条卖出规则配置:
2025-06-13 00:09:36,316 - qmt_trading.test_监控持仓卖出 - INFO -   规则1 - 高开回落: 涨幅>3.0%, 回落>2.0%
2025-06-13 00:09:36,317 - qmt_trading.test_监控持仓卖出 - INFO -   规则2 - 低开回落: 涨幅>5.0%, 回落>3.0%
2025-06-13 00:09:36,317 - qmt_trading.test_监控持仓卖出 - INFO -   规则3 - 低开涨幅回落: 涨幅>6.0%, 回落>3.0%
2025-06-13 00:09:36,317 - qmt_trading.test_监控持仓卖出 - INFO -   规则4 - 通用涨幅回落: 涨幅>8.0%, 回落>4.0%
2025-06-13 00:09:36,318 - qmt_trading.test_监控持仓卖出 - INFO -   规则5 - 尾盘卖出: 启用
2025-06-13 00:09:36,318 - qmt_trading.test_监控持仓卖出 - INFO -   规则6 - 涨停炸板: 封单阈值<5,000,000元
2025-06-13 00:09:36,318 - qmt_trading.test_监控持仓卖出 - INFO -   规则7 - 委托撤单: 超时>2秒
2025-06-13 00:09:36,319 - qmt_trading.test_监控持仓卖出 - INFO -   规则8 - 最大回撤: 回撤>5.0%
2025-06-13 00:09:36,319 - qmt_trading.test_监控持仓卖出 - INFO - 
2025-06-13 00:09:42,115 - qmt_trading.test_监控持仓卖出 - INFO - === 原始持仓数据调试 ===
2025-06-13 00:09:42,115 - qmt_trading.test_监控持仓卖出 - INFO - 原始数据 - 股票: 001298, 成本价: 23.12, 当前价: 21.94, 盈亏比例: -5.1
2025-06-13 00:09:42,116 - qmt_trading.test_监控持仓卖出 - INFO - 原始数据 - 股票: 002261, 成本价: 31.38, 当前价: 29.96, 盈亏比例: -4.53
2025-06-13 00:09:42,117 - qmt_trading.test_监控持仓卖出 - INFO - 原始数据 - 股票: 300638, 成本价: 27.31, 当前价: 26.07, 盈亏比例: -4.54
2025-06-13 00:09:42,117 - qmt_trading.test_监控持仓卖出 - INFO - === 原始数据调试结束 ===
2025-06-13 00:09:42,117 - qmt_trading.test_监控持仓卖出 - INFO - [94m[1m📊 当前持仓 (3只):[0m
2025-06-13 00:09:42,118 - qmt_trading.test_监控持仓卖出 - INFO - [94m==============================================================================================================[0m
2025-06-13 00:09:42,118 - qmt_trading.test_监控持仓卖出 - INFO - [1m[4m股票代码     股票名称       数量       成本价      当前价      盈亏金额       盈亏%      市值           可用       状态  [0m
2025-06-13 00:09:42,118 - qmt_trading.test_监控持仓卖出 - INFO - [94m==============================================================================================================[0m
2025-06-13 00:09:42,119 - qmt_trading.test_监控持仓卖出 - INFO - 获取 001298 最新价格 (xtdata.get_full_tick): 21.94
2025-06-13 00:09:42,120 - qmt_trading.test_监控持仓卖出 - INFO - 计算 001298 盈亏: 成本价=23.12, 当前价=21.94, 盈亏比例=-5.1%, 盈亏金额=-826.0
2025-06-13 00:09:42,120 - qmt_trading.test_监控持仓卖出 - INFO - [96m001298  [0m [97m好上好       [0m [97m700     [0m [97m23.12   [0m [97m21.94   [0m [91m-826.00   [0m [91m-5.10  %[0m [97m15358.00    [0m [97m700     [0m [91m📉   [0m
2025-06-13 00:09:42,121 - qmt_trading.test_监控持仓卖出 - INFO - 获取 002261 最新价格 (xtdata.get_full_tick): 29.96
2025-06-13 00:09:42,121 - qmt_trading.test_监控持仓卖出 - INFO - 计算 002261 盈亏: 成本价=31.38, 当前价=29.96, 盈亏比例=-4.53%, 盈亏金额=-142.0
2025-06-13 00:09:42,122 - qmt_trading.test_监控持仓卖出 - INFO - [96m002261  [0m [97m拓维信息      [0m [97m100     [0m [97m31.38   [0m [97m29.96   [0m [91m-142.00   [0m [91m-4.53  %[0m [97m2996.00     [0m [97m100     [0m [91m📉   [0m
2025-06-13 00:09:42,122 - qmt_trading.test_监控持仓卖出 - INFO - 获取 300638 最新价格 (xtdata.get_full_tick): 26.07
2025-06-13 00:09:42,123 - qmt_trading.test_监控持仓卖出 - INFO - 计算 300638 盈亏: 成本价=27.31, 当前价=26.07, 盈亏比例=-4.54%, 盈亏金额=-372.0
2025-06-13 00:09:42,123 - qmt_trading.test_监控持仓卖出 - INFO - [96m300638  [0m [97m广和通       [0m [97m300     [0m [97m27.31   [0m [97m26.07   [0m [91m-372.00   [0m [91m-4.54  %[0m [97m7821.00     [0m [97m300     [0m [91m📉   [0m
2025-06-13 00:09:42,123 - qmt_trading.test_监控持仓卖出 - INFO - [94m==============================================================================================================[0m
2025-06-13 00:09:42,124 - qmt_trading.test_监控持仓卖出 - INFO - [95m[1m💰 总计:[0m [97m成本=27,515.00元[0m, [97m市值=26,175.00元[0m, [91m[1m盈亏=-1,340.00元(-4.87%)[0m [91m📉 亏损[0m
2025-06-13 00:09:42,125 - qmt_trading.test_监控持仓卖出 - INFO - 
2025-06-13 00:09:42,125 - qmt_trading.test_监控持仓卖出 - INFO - 持仓监控循环开始
2025-06-13 00:09:42,125 - qmt_trading.test_监控持仓卖出 - INFO - 持仓监控线程已启动，按 Ctrl+C 停止监控
2025-06-13 00:09:57,361 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-13 00:09:57,362 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-13 00:09:59,412 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-13 00:09:59,443 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-13 00:09:59,446 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-13 00:09:59,446 - qmt_trading.trading_executor - WARNING - 非模拟交易模式，无法初始化模拟账户
2025-06-13 00:09:59,447 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:09:59,452 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:09:59,452 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-13 00:09:59 
2025-06-13 00:09:59,452 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:09:59,453 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-13 00:09:59,453 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:09:59,453 - qmt_trading.main - INFO - 系统初始化完成
2025-06-13 00:09:59,454 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-13 00:09:59,454 - qmt_trading.main - INFO - 下载 001298 的历史数据
2025-06-13 00:09:59,560 - qmt_trading.data_manager - WARNING - 001298 过滤了 1 行空date数据
2025-06-13 00:10:00,578 - qmt_trading.main - INFO - 下载 002261 的历史数据
2025-06-13 00:10:01,713 - qmt_trading.main - INFO - 下载 300638 的历史数据
2025-06-13 00:10:02,847 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-13 00:10:02,848 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-13 00:10:02,851 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-13 00:10:02,852 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-13 00:10:02,852 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-13 00:10:02,852 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-13 00:10:02,863 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-13 00:10:02,941 - qmt_trading.main - INFO - 启动策略线程
2025-06-13 00:10:03,082 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-13 00:10:03,175 - qmt_trading.main - INFO - 启动卖出策略线程
2025-06-13 00:10:03,284 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环开始
2025-06-13 00:10:03,299 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已启动
2025-06-13 00:10:03,424 - qmt_trading.main - INFO - 启动日志清理线程
2025-06-13 00:10:03,580 - qmt_trading.main - INFO - 启动Web服务器线程
2025-06-13 00:10:03,689 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-06-13 00:10:03,767 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-13 00:10:11,482 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:10:12,212 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:10:12,946 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:10:13,692 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:10:14,378 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:10:15,112 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:10:15,847 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:10:16,503 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:10:17,239 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:10:17,941 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:10:18,657 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:10:19,406 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:10:20,092 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:10:25,299 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:10:26,030 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:10:26,699 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:10:27,510 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:10:28,320 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:10:29,068 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:10:29,818 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:10:30,553 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:10:31,284 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:10:32,000 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:10:32,749 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:10:33,403 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:10:34,119 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:10:39,530 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:10:40,231 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:12:35,744 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-13 00:12:35,746 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-13 00:12:37,800 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-13 00:12:37,830 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-13 00:12:37,833 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-13 00:12:37,834 - qmt_trading.trading_executor - WARNING - 非模拟交易模式，无法初始化模拟账户
2025-06-13 00:12:37,835 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:12:37,840 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:12:37,841 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-13 00:12:37 
2025-06-13 00:12:37,841 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:12:37,842 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-13 00:12:37,842 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:12:37,843 - qmt_trading.main - INFO - 系统初始化完成
2025-06-13 00:12:37,843 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-13 00:12:37,844 - qmt_trading.main - INFO - 下载 001298 的历史数据
2025-06-13 00:12:37,954 - qmt_trading.data_manager - WARNING - 001298 过滤了 1 行空date数据
2025-06-13 00:12:38,965 - qmt_trading.main - INFO - 下载 002261 的历史数据
2025-06-13 00:12:40,085 - qmt_trading.main - INFO - 下载 300638 的历史数据
2025-06-13 00:12:41,220 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-13 00:12:41,220 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-13 00:12:41,224 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-13 00:12:41,224 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-13 00:12:41,225 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-13 00:12:41,225 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-13 00:12:41,235 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-13 00:12:41,313 - qmt_trading.main - INFO - 启动策略线程
2025-06-13 00:12:41,437 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-13 00:12:41,531 - qmt_trading.main - INFO - 启动卖出策略线程
2025-06-13 00:12:41,624 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环开始
2025-06-13 00:12:41,639 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已启动
2025-06-13 00:12:41,840 - qmt_trading.main - INFO - 启动日志清理线程
2025-06-13 00:12:41,995 - qmt_trading.main - INFO - 启动Web服务器线程
2025-06-13 00:12:42,165 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-06-13 00:12:42,196 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-13 00:12:53,795 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:12:54,573 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:12:55,336 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:12:56,068 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:12:56,661 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:12:57,330 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:12:57,954 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:12:58,577 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:12:59,263 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:13:00,073 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:13:00,773 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:13:01,569 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:13:02,378 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:13:07,711 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:13:08,536 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:13:09,221 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:13:09,907 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:13:10,576 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:13:11,294 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:13:12,011 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:13:12,745 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:13:13,523 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:13:14,210 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:13:15,020 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:13:15,754 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:13:16,499 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:13:22,132 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:13:22,927 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:13:23,642 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:13:24,265 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:13:25,078 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:13:25,621 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:13:26,352 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:13:27,021 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:13:27,722 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:13:28,470 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:13:29,124 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:13:29,841 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:13:30,588 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:13:35,652 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:13:36,320 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:13:37,036 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:13:37,734 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:13:38,510 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:13:39,212 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:13:40,005 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:13:40,751 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:13:41,514 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:13:42,262 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:13:42,604 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:14:58,071 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-13 00:14:58,073 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-13 00:15:00,122 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-13 00:15:00,159 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-13 00:15:00,162 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-13 00:15:00,162 - qmt_trading.trading_executor - WARNING - 非模拟交易模式，无法初始化模拟账户
2025-06-13 00:15:00,162 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:15:00,169 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:15:00,169 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-13 00:15:00 
2025-06-13 00:15:00,170 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:15:00,170 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-13 00:15:00,170 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:15:00,171 - qmt_trading.main - INFO - 系统初始化完成
2025-06-13 00:15:00,171 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-13 00:15:00,172 - qmt_trading.main - INFO - 下载 001298 的历史数据
2025-06-13 00:15:00,287 - qmt_trading.data_manager - WARNING - 001298 过滤了 1 行空date数据
2025-06-13 00:15:01,301 - qmt_trading.main - INFO - 下载 002261 的历史数据
2025-06-13 00:15:02,422 - qmt_trading.main - INFO - 下载 300638 的历史数据
2025-06-13 00:15:03,555 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-13 00:15:03,555 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-13 00:15:03,559 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-13 00:15:03,559 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-13 00:15:03,560 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-13 00:15:03,560 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-13 00:15:03,571 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-13 00:15:03,664 - qmt_trading.main - INFO - 启动策略线程
2025-06-13 00:15:03,789 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-13 00:15:03,868 - qmt_trading.main - INFO - 启动卖出策略线程
2025-06-13 00:15:03,976 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环开始
2025-06-13 00:15:04,007 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已启动
2025-06-13 00:15:04,194 - qmt_trading.main - INFO - 启动日志清理线程
2025-06-13 00:15:04,396 - qmt_trading.main - INFO - 启动Web服务器线程
2025-06-13 00:15:04,583 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-06-13 00:15:04,615 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-13 00:15:11,093 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:15:11,838 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:15:12,429 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:15:13,126 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:15:13,811 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:15:14,572 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:15:15,257 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:15:15,955 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:15:16,671 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:15:17,356 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:15:18,195 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:15:18,912 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:15:19,677 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:15:24,987 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:15:25,625 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:15:26,323 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:15:27,054 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:15:27,802 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:15:28,483 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:15:29,029 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:15:29,730 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:15:30,478 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:15:31,165 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:15:31,897 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:15:32,584 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:15:33,270 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:15:38,470 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:15:39,311 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:15:39,994 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:15:40,661 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:15:41,300 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:15:41,983 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:15:42,669 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:15:43,479 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:15:44,132 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:15:44,893 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:15:45,625 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:15:46,280 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:15:46,887 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:15:52,253 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:15:52,968 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:15:53,670 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:15:54,356 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:15:54,947 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:15:55,616 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:15:56,363 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:15:57,140 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:16:46,295 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-13 00:16:46,297 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-13 00:16:48,348 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-13 00:16:48,379 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-13 00:16:48,382 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-13 00:16:48,383 - qmt_trading.trading_executor - WARNING - 非模拟交易模式，无法初始化模拟账户
2025-06-13 00:16:48,383 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:16:48,388 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:16:48,388 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-13 00:16:48 
2025-06-13 00:16:48,388 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:16:48,389 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-13 00:16:48,390 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:16:48,390 - qmt_trading.main - INFO - 系统初始化完成
2025-06-13 00:16:48,390 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-13 00:16:48,390 - qmt_trading.main - INFO - 下载 001298 的历史数据
2025-06-13 00:16:48,500 - qmt_trading.data_manager - WARNING - 001298 过滤了 1 行空date数据
2025-06-13 00:16:49,514 - qmt_trading.main - INFO - 下载 002261 的历史数据
2025-06-13 00:16:50,650 - qmt_trading.main - INFO - 下载 300638 的历史数据
2025-06-13 00:16:51,770 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-13 00:16:51,771 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-13 00:16:51,774 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-13 00:16:51,775 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-13 00:16:51,775 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-13 00:16:51,776 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-13 00:16:51,786 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-13 00:16:51,848 - qmt_trading.main - INFO - 启动策略线程
2025-06-13 00:16:51,988 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-13 00:16:52,082 - qmt_trading.main - INFO - 启动卖出策略线程
2025-06-13 00:16:52,159 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环开始
2025-06-13 00:16:52,175 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已启动
2025-06-13 00:16:52,331 - qmt_trading.main - INFO - 启动日志清理线程
2025-06-13 00:16:52,487 - qmt_trading.main - INFO - 启动Web服务器线程
2025-06-13 00:16:52,643 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-13 00:16:52,643 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-06-13 00:16:59,735 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:17:00,294 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:17:01,025 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:17:01,774 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:17:02,382 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:17:03,082 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:17:03,691 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:17:04,375 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:17:05,090 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:17:05,855 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:17:06,508 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:17:07,255 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:17:08,082 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:17:13,221 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:17:13,938 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:17:14,592 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:17:15,138 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:17:15,731 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:17:16,494 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:17:35,253 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-13 00:17:35,254 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-13 00:17:37,312 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-13 00:17:37,341 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-13 00:17:37,344 - qmt_trading.position_manager - WARNING - 系统以模拟交易模式运行 - 持仓变更只在内存中进行，不会写入数据库
2025-06-13 00:17:37,344 - qmt_trading.position_manager - INFO - 执行模拟交易全量数据刷新
2025-06-13 00:17:37,344 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-13 00:17:37,344 - qmt_trading.position_manager - INFO - 开始执行模拟交易全量数据刷新
2025-06-13 00:17:37,345 - qmt_trading.trading_executor - INFO - 初始化模拟账户，初始资金: 1000000
2025-06-13 00:17:37,345 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:17:37,354 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:17:37,355 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-13 00:17:37 
2025-06-13 00:17:37,355 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:17:37,356 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-13 00:17:37,356 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:17:37,356 - qmt_trading.main - INFO - 系统初始化完成
2025-06-13 00:17:37,357 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-13 00:17:37,357 - qmt_trading.main - INFO - 下载 001298 的历史数据
2025-06-13 00:17:37,480 - qmt_trading.data_manager - WARNING - 001298 过滤了 1 行空date数据
2025-06-13 00:17:38,491 - qmt_trading.main - INFO - 下载 002261 的历史数据
2025-06-13 00:17:39,626 - qmt_trading.main - INFO - 下载 300638 的历史数据
2025-06-13 00:17:40,761 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-13 00:17:40,761 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-13 00:17:40,765 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-13 00:17:40,766 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-13 00:17:40,766 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-13 00:17:40,767 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-13 00:17:40,777 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-13 00:17:40,855 - qmt_trading.main - INFO - 启动策略线程
2025-06-13 00:17:40,964 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-13 00:17:41,042 - qmt_trading.main - INFO - 启动卖出策略线程
2025-06-13 00:17:41,136 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环开始
2025-06-13 00:17:41,152 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已启动
2025-06-13 00:17:41,307 - qmt_trading.main - INFO - 启动日志清理线程
2025-06-13 00:17:41,401 - qmt_trading.main - INFO - 启动Web服务器线程
2025-06-13 00:17:41,590 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-06-13 00:17:41,606 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-13 00:17:45,502 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:17:45,565 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:17:46,657 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:17:47,374 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:17:47,998 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:17:48,760 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:17:49,587 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:17:50,289 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:17:50,398 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:17:51,006 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:17:51,862 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:17:52,704 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:17:53,546 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:17:54,229 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:17:54,885 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:17:55,227 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:17:55,540 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:18:00,032 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:18:00,047 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:18:00,328 - qmt_trading.position_manager - INFO - 模拟交易全量刷新完成，更新了 3 只股票的数据
2025-06-13 00:18:00,796 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:18:01,481 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:18:02,200 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:18:02,961 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:18:03,634 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:18:04,413 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:18:05,225 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:18:05,957 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:18:06,705 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:18:07,377 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:18:08,139 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:18:08,842 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:18:09,607 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:18:13,867 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:18:14,754 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:18:15,348 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:18:16,049 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:18:16,830 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:18:17,561 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:18:18,308 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:18:18,899 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:18:19,462 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:18:20,163 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:18:20,801 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:18:21,407 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:18:22,016 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:18:22,733 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:18:27,121 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:18:27,949 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:18:28,820 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:18:29,509 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:18:30,242 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:18:30,882 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:18:31,506 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:18:32,381 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:18:33,082 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:18:33,969 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:18:34,594 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:18:35,139 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:18:35,918 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:18:36,602 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:18:40,874 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:18:41,015 - qmt_trading.position_manager - INFO - 执行模拟交易全量数据刷新
2025-06-13 00:18:41,093 - qmt_trading.position_manager - INFO - 开始执行模拟交易全量数据刷新
2025-06-13 00:18:41,731 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:18:42,451 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:18:43,026 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:18:43,852 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:18:44,194 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:18:44,632 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:18:45,367 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:18:45,882 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:18:46,507 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:18:47,178 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:18:47,785 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:18:48,454 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:18:48,751 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:18:49,235 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:18:49,952 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:18:53,758 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:18:54,177 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:18:55,098 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:18:55,815 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:18:56,532 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:18:57,205 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:18:57,843 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:18:58,590 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:18:58,683 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:18:59,088 - qmt_trading.position_manager - INFO - 模拟交易全量刷新完成，更新了 3 只股票的数据
2025-06-13 00:18:59,353 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:19:00,053 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:19:00,785 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:19:01,485 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:19:02,220 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:19:02,734 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:19:03,513 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:19:07,639 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:19:08,558 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:19:09,274 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:19:10,052 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:19:10,878 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:19:11,640 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:19:12,293 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:19:13,010 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:19:13,694 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:19:14,505 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:19:15,208 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:19:15,911 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:19:16,581 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:19:17,314 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:19:21,523 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:19:22,425 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:19:23,171 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:19:23,933 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:19:24,558 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:19:25,337 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:19:26,099 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:19:26,722 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:19:27,378 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:19:28,111 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:19:28,829 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:19:29,531 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:19:30,310 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:19:31,045 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:19:35,365 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:19:36,330 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:19:37,030 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:19:37,777 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:19:38,478 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:19:39,258 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:19:39,852 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:19:40,617 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:19:41,398 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:19:42,083 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:19:42,786 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:19:43,317 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:19:43,909 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:19:45,297 - qmt_trading.position_manager - INFO - 执行模拟交易全量数据刷新
2025-06-13 00:19:45,375 - qmt_trading.position_manager - INFO - 开始执行模拟交易全量数据刷新
2025-06-13 00:19:48,509 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:19:52,609 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:19:56,939 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:19:59,746 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:20:01,367 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:20:01,725 - qmt_trading.position_manager - INFO - 模拟交易全量刷新完成，更新了 3 只股票的数据
2025-06-13 00:20:04,158 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:20:05,002 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:20:05,608 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:20:06,248 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:20:06,887 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:20:07,463 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:20:08,181 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:20:08,852 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:20:09,677 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:20:10,378 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:20:11,157 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:20:11,904 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:20:12,620 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:20:13,211 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:20:17,711 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:20:18,599 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:20:19,284 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:20:19,985 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:20:20,655 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:20:21,418 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:20:22,150 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:20:22,961 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:20:23,615 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:20:24,394 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:20:25,156 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:20:25,840 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:20:26,508 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:20:27,193 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:20:31,398 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:20:32,397 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:20:33,050 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:20:33,875 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:20:34,654 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:20:35,402 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:20:36,196 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:20:36,989 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:20:37,582 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:20:38,205 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:20:38,967 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:20:39,776 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:20:40,602 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:20:41,364 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:20:45,351 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:20:46,287 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:20:46,987 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:20:47,626 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:20:47,626 - qmt_trading.position_manager - INFO - 执行模拟交易全量数据刷新
2025-06-13 00:20:47,783 - qmt_trading.position_manager - INFO - 开始执行模拟交易全量数据刷新
2025-06-13 00:20:48,297 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:20:49,028 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:20:49,776 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:20:50,617 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:20:51,303 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:20:51,632 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:20:51,944 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:20:52,708 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:20:53,425 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:20:54,221 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:20:54,969 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:20:56,353 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:20:58,003 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:20:59,686 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:21:00,699 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:21:01,120 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:21:01,512 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:21:02,257 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:21:02,973 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:21:03,766 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:21:04,406 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:21:04,624 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:21:05,418 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:21:06,166 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:21:06,634 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:21:06,884 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:21:06,993 - qmt_trading.position_manager - INFO - 模拟交易全量刷新完成，更新了 3 只股票的数据
2025-06-13 00:21:07,649 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:21:08,444 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:21:09,223 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:21:09,301 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:21:09,972 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:21:12,125 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:21:14,356 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:21:14,683 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:21:15,836 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:21:16,490 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:21:17,193 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:21:18,050 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:21:18,659 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:21:19,062 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:21:19,327 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:21:20,107 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:21:20,902 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:21:21,620 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:21:22,337 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:21:23,039 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:21:23,866 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:21:24,085 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:21:24,598 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:21:27,140 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:21:29,039 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:21:29,133 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:21:30,145 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:21:30,880 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:21:31,564 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:21:32,375 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:21:33,138 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:21:33,793 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:21:33,840 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:21:34,682 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:21:35,352 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:21:36,086 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:21:36,677 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:21:37,284 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:21:38,155 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:21:39,058 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:21:39,058 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:21:41,690 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:21:43,355 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:21:43,448 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:21:44,413 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:21:44,912 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:21:45,457 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:21:46,220 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:21:47,060 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:21:47,543 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:21:47,730 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:21:47,995 - qmt_trading.position_manager - INFO - 执行模拟交易全量数据刷新
2025-06-13 00:21:48,073 - qmt_trading.position_manager - INFO - 开始执行模拟交易全量数据刷新
2025-06-13 00:21:48,618 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:21:49,302 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:21:50,049 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:21:50,654 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-06-13 00:21:50,794 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:21:51,338 - qmt_trading.data_manager - WARNING - 查询股票基本信息失败: 网络接收错误。
2025-06-13 00:21:51,463 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:21:51,712 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-06-13 00:21:51,712 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:21:51,820 - qmt_trading.main - INFO - 开始清理资源...
2025-06-13 00:21:51,944 - qmt_trading.main - INFO - 停止 data_thread...
2025-06-13 00:21:52,038 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:21:52,396 - qmt_trading.data_manager - ERROR - 获取股票 510050.SH 名称时出错: list index out of range
2025-06-13 00:21:52,442 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-06-13 00:21:52,535 - qmt_trading.main - INFO - 停止 position_thread...
2025-06-13 00:21:52,629 - qmt_trading.position_manager - INFO - 持仓监控线程已停止
2025-06-13 00:21:52,630 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:21:52,630 - qmt_trading.main - INFO - 停止 strategy_thread...
2025-06-13 00:21:52,634 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:21:53,189 - qmt_trading.position_manager - INFO - 模拟交易模式：保留内存中的模拟持仓记录，不与实盘同步删除
2025-06-13 00:21:53,192 - qmt_trading.position_manager - INFO - 模拟交易全量刷新完成，更新了 3 只股票的数据
2025-06-13 00:21:53,391 - qmt_trading.strategy - INFO - 策略线程已停止
2025-06-13 00:21:53,391 - qmt_trading.main - INFO - 停止 sell_strategy_thread...
2025-06-13 00:21:53,640 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环结束
2025-06-13 00:21:53,641 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已停止
2025-06-13 00:21:53,642 - qmt_trading.main - INFO - 停止 log_thread...
2025-06-13 00:21:53,642 - qmt_trading.main - INFO - 停止 web_thread...
2025-06-13 00:21:53,643 - qmt_trading.main - ERROR - 关闭交易策略时出错: 'TradingStrategy' object has no attribute 'close'
2025-06-13 00:21:53,643 - qmt_trading.trading_executor - INFO - 交易执行器已关闭
2025-06-13 00:21:53,643 - qmt_trading.data_manager - INFO - 数据库连接已关闭
2025-06-13 00:21:53,644 - qmt_trading.data_manager - ERROR - 断开行情连接出错: module 'xtquant.xtdata' has no attribute 'disconnect'
2025-06-13 00:21:53,644 - qmt_trading.main - INFO - 资源清理完成
2025-06-13 00:21:53,644 - qmt_trading.main - INFO - 系统已退出
2025-06-13 00:22:43,105 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-13 00:22:43,106 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-13 00:22:45,156 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-13 00:22:45,187 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-13 00:22:45,191 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-13 00:22:45,192 - qmt_trading.trading_executor - WARNING - 非模拟交易模式，无法初始化模拟账户
2025-06-13 00:22:45,192 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:22:45,197 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:22:45,198 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-13 00:22:45 
2025-06-13 00:22:45,198 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:22:45,199 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-13 00:22:45,199 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:22:45,200 - qmt_trading.main - INFO - 系统初始化完成
2025-06-13 00:22:45,200 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-13 00:22:45,200 - qmt_trading.main - INFO - 下载 001298 的历史数据
2025-06-13 00:22:45,313 - qmt_trading.data_manager - WARNING - 001298 过滤了 1 行空date数据
2025-06-13 00:22:46,334 - qmt_trading.main - INFO - 下载 002261 的历史数据
2025-06-13 00:22:47,468 - qmt_trading.main - INFO - 下载 300638 的历史数据
2025-06-13 00:22:48,585 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-13 00:22:48,585 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-13 00:22:48,589 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-13 00:22:48,589 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-13 00:22:48,590 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-13 00:22:48,590 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-13 00:22:48,600 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-13 00:22:48,694 - qmt_trading.main - INFO - 启动策略线程
2025-06-13 00:22:48,802 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-13 00:22:48,880 - qmt_trading.main - INFO - 启动卖出策略线程
2025-06-13 00:22:48,973 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环开始
2025-06-13 00:22:48,988 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已启动
2025-06-13 00:22:49,129 - qmt_trading.main - INFO - 启动日志清理线程
2025-06-13 00:22:49,268 - qmt_trading.main - INFO - 启动Web服务器线程
2025-06-13 00:22:49,392 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-06-13 00:22:49,408 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-13 00:22:55,943 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:22:56,721 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:22:57,483 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:22:58,213 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:22:58,928 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:22:59,641 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:23:00,278 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:23:00,977 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:23:01,722 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:23:02,518 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:23:03,139 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:23:03,854 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:23:04,554 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:23:10,010 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:23:10,681 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:23:11,365 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:23:12,034 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:23:12,829 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:23:13,670 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:23:14,480 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:23:15,135 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:23:15,804 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:23:16,582 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:23:17,313 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:23:18,074 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:23:18,682 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:23:24,191 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:23:24,736 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:23:25,547 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:23:26,231 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:23:26,792 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:23:27,445 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:23:28,160 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:23:28,860 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:23:29,654 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:23:30,399 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:23:31,085 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:23:31,769 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:23:32,501 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:23:37,649 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:23:38,380 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:23:39,080 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:23:39,780 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:23:40,402 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:23:41,070 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:23:41,756 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:23:42,378 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:23:43,047 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:23:43,840 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:23:44,556 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:23:45,503 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:23:46,358 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:23:51,364 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:23:52,128 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:23:52,860 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:23:53,733 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:23:54,389 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:23:55,183 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:23:55,930 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:23:56,644 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:23:57,343 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:23:58,121 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:23:58,758 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:23:59,458 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:24:00,190 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:24:05,244 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:24:05,977 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:24:06,769 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:24:06,941 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-06-13 00:24:07,051 - qmt_trading.main - INFO - 开始清理资源...
2025-06-13 00:24:07,113 - qmt_trading.main - INFO - 停止 data_thread...
2025-06-13 00:24:07,253 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-06-13 00:24:07,393 - qmt_trading.main - INFO - 停止 position_thread...
2025-06-13 00:24:07,487 - qmt_trading.position_manager - INFO - 持仓监控线程已停止
2025-06-13 00:24:07,487 - qmt_trading.main - INFO - 停止 strategy_thread...
2025-06-13 00:24:07,506 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:24:07,604 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:24:07,673 - qmt_trading.strategy - INFO - 策略线程已停止
2025-06-13 00:24:07,673 - qmt_trading.main - INFO - 停止 sell_strategy_thread...
2025-06-13 00:24:07,699 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:24:08,714 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环结束
2025-06-13 00:24:08,714 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已停止
2025-06-13 00:24:08,715 - qmt_trading.main - INFO - 停止 log_thread...
2025-06-13 00:24:08,715 - qmt_trading.main - INFO - 停止 web_thread...
2025-06-13 00:24:08,715 - qmt_trading.main - ERROR - 关闭交易策略时出错: 'TradingStrategy' object has no attribute 'close'
2025-06-13 00:24:08,715 - qmt_trading.trading_executor - INFO - 交易执行器已关闭
2025-06-13 00:24:08,716 - qmt_trading.data_manager - INFO - 数据库连接已关闭
2025-06-13 00:24:08,717 - qmt_trading.data_manager - ERROR - 断开行情连接出错: module 'xtquant.xtdata' has no attribute 'disconnect'
2025-06-13 00:24:08,717 - qmt_trading.main - INFO - 资源清理完成
2025-06-13 00:24:08,717 - qmt_trading.main - INFO - 系统已退出
2025-06-13 00:27:09,647 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-13 00:27:09,648 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-13 00:27:11,708 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-13 00:27:11,737 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-13 00:27:11,739 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-13 00:27:11,740 - qmt_trading.trading_executor - WARNING - 非模拟交易模式，无法初始化模拟账户
2025-06-13 00:27:11,740 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:27:11,745 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:27:11,745 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-13 00:27:11 
2025-06-13 00:27:11,746 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:27:11,746 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-13 00:27:11,746 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:27:11,746 - qmt_trading.main - INFO - 系统初始化完成
2025-06-13 00:27:11,746 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-13 00:27:11,747 - qmt_trading.main - INFO - 下载 001298 的历史数据
2025-06-13 00:27:11,858 - qmt_trading.data_manager - WARNING - 001298 过滤了 1 行空date数据
2025-06-13 00:27:12,870 - qmt_trading.main - INFO - 下载 002261 的历史数据
2025-06-13 00:27:14,005 - qmt_trading.main - INFO - 下载 300638 的历史数据
2025-06-13 00:27:15,139 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-13 00:27:15,140 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-13 00:27:15,143 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-13 00:27:15,143 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-13 00:27:15,143 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-13 00:27:15,144 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-13 00:27:15,155 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-13 00:27:15,248 - qmt_trading.main - INFO - 启动策略线程
2025-06-13 00:27:15,388 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-13 00:27:15,451 - qmt_trading.main - INFO - 启动卖出策略线程
2025-06-13 00:27:15,544 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环开始
2025-06-13 00:27:15,560 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已启动
2025-06-13 00:27:15,700 - qmt_trading.main - INFO - 启动日志清理线程
2025-06-13 00:27:15,824 - qmt_trading.main - INFO - 启动Web服务器线程
2025-06-13 00:27:15,995 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-06-13 00:27:16,010 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-13 00:27:24,110 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:27:24,732 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:27:25,666 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:27:26,522 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:27:27,330 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:27:28,139 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:27:28,792 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:27:29,490 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:27:30,157 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:27:30,874 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:27:31,574 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:27:32,195 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:27:32,911 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:27:38,247 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:27:38,995 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:27:39,695 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:27:40,364 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:27:41,127 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:27:41,719 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:27:42,493 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:27:43,256 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:27:44,112 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:27:44,796 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:27:45,667 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:27:46,460 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:27:47,269 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:27:52,323 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:27:53,022 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:27:53,706 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:27:54,435 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:27:55,055 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:27:55,693 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:27:56,363 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:27:56,953 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:27:57,340 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:27:57,712 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:27:58,426 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:27:58,985 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:27:59,343 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:28:04,364 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:28:29,460 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-13 00:28:29,461 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-13 00:28:31,515 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-13 00:28:31,545 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-13 00:28:31,547 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-13 00:28:31,548 - qmt_trading.trading_executor - WARNING - 非模拟交易模式，无法初始化模拟账户
2025-06-13 00:28:31,549 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:28:31,554 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:28:31,554 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-13 00:28:31 
2025-06-13 00:28:31,554 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:28:31,555 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-13 00:28:31,555 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:28:31,556 - qmt_trading.main - INFO - 系统初始化完成
2025-06-13 00:28:31,556 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-13 00:28:31,557 - qmt_trading.main - INFO - 下载 001298 的历史数据
2025-06-13 00:28:31,662 - qmt_trading.data_manager - WARNING - 001298 过滤了 1 行空date数据
2025-06-13 00:28:32,676 - qmt_trading.main - INFO - 下载 002261 的历史数据
2025-06-13 00:28:33,793 - qmt_trading.main - INFO - 下载 300638 的历史数据
2025-06-13 00:28:34,912 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-13 00:28:34,912 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-13 00:28:34,916 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-13 00:28:34,916 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-13 00:28:34,916 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-13 00:28:34,917 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-13 00:28:34,927 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-13 00:28:35,021 - qmt_trading.main - INFO - 启动策略线程
2025-06-13 00:28:35,161 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-13 00:28:35,238 - qmt_trading.main - INFO - 启动卖出策略线程
2025-06-13 00:28:35,332 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环开始
2025-06-13 00:28:35,348 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已启动
2025-06-13 00:28:35,456 - qmt_trading.main - INFO - 启动日志清理线程
2025-06-13 00:28:35,673 - qmt_trading.main - INFO - 启动Web服务器线程
2025-06-13 00:28:35,783 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-06-13 00:28:35,799 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-13 00:28:43,160 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:28:43,876 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:28:44,685 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:28:45,478 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:28:46,118 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:28:46,757 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:28:47,410 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:28:48,063 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:28:48,859 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:28:49,529 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:28:50,229 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:28:50,883 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:28:51,612 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:28:56,784 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:28:57,188 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:28:57,840 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:28:58,497 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:28:58,835 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:28:59,519 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:29:00,156 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:29:01,026 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:29:01,758 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:29:02,493 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:29:03,177 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:29:03,924 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:29:04,266 - qmt_trading.main - INFO - 接收到退出信号，开始清理...
2025-06-13 00:29:04,375 - qmt_trading.main - INFO - 开始清理资源...
2025-06-13 00:29:04,453 - qmt_trading.main - INFO - 停止 data_thread...
2025-06-13 00:29:04,469 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:29:05,513 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-06-13 00:29:05,575 - qmt_trading.main - INFO - 停止 position_thread...
2025-06-13 00:29:05,668 - qmt_trading.position_manager - INFO - 持仓监控线程已停止
2025-06-13 00:29:05,669 - qmt_trading.main - INFO - 停止 strategy_thread...
2025-06-13 00:29:06,011 - qmt_trading.strategy - INFO - 策略线程已停止
2025-06-13 00:29:06,012 - qmt_trading.main - INFO - 停止 sell_strategy_thread...
2025-06-13 00:29:06,105 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:29:07,117 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环结束
2025-06-13 00:29:07,117 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已停止
2025-06-13 00:29:07,118 - qmt_trading.main - INFO - 停止 log_thread...
2025-06-13 00:29:07,118 - qmt_trading.main - INFO - 停止 web_thread...
2025-06-13 00:29:07,118 - qmt_trading.main - ERROR - 关闭交易策略时出错: 'TradingStrategy' object has no attribute 'close'
2025-06-13 00:29:07,119 - qmt_trading.trading_executor - INFO - 交易执行器已关闭
2025-06-13 00:29:07,119 - qmt_trading.data_manager - INFO - 数据库连接已关闭
2025-06-13 00:29:07,120 - qmt_trading.data_manager - ERROR - 断开行情连接出错: module 'xtquant.xtdata' has no attribute 'disconnect'
2025-06-13 00:29:07,120 - qmt_trading.main - INFO - 资源清理完成
2025-06-13 00:29:07,120 - qmt_trading.main - INFO - 系统已退出
2025-06-13 00:42:51,038 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-13 00:42:51,038 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-13 00:42:53,086 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-13 00:42:53,117 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-13 00:42:53,119 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-13 00:42:53,119 - qmt_trading.trading_executor - WARNING - 非模拟交易模式，无法初始化模拟账户
2025-06-13 00:42:53,120 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:42:53,125 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:42:53,126 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-13 00:42:53 
2025-06-13 00:42:53,126 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:42:53,126 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-13 00:42:53,127 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:42:53,127 - qmt_trading.main - INFO - 系统初始化完成
2025-06-13 00:42:53,127 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-13 00:42:53,128 - qmt_trading.main - INFO - 下载 001298 的历史数据
2025-06-13 00:42:53,258 - qmt_trading.data_manager - WARNING - 001298 过滤了 1 行空date数据
2025-06-13 00:42:54,280 - qmt_trading.main - INFO - 下载 002261 的历史数据
2025-06-13 00:42:55,413 - qmt_trading.main - INFO - 下载 300638 的历史数据
2025-06-13 00:42:56,545 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-13 00:42:56,545 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-13 00:42:56,549 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-13 00:42:56,549 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-13 00:42:56,550 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-13 00:42:56,550 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-13 00:42:56,560 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-13 00:42:56,652 - qmt_trading.main - INFO - 启动策略线程
2025-06-13 00:42:56,793 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-13 00:42:56,886 - qmt_trading.main - INFO - 启动卖出策略线程
2025-06-13 00:42:56,995 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环开始
2025-06-13 00:42:57,026 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已启动
2025-06-13 00:42:57,181 - qmt_trading.main - INFO - 启动日志清理线程
2025-06-13 00:42:57,305 - qmt_trading.main - INFO - 启动Web服务器线程
2025-06-13 00:42:57,491 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-13 00:42:57,507 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-06-13 00:43:03,313 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:43:03,967 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:43:04,620 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:43:05,381 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:43:06,159 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:43:06,906 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:43:07,575 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:43:08,275 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:43:08,881 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:43:09,551 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:43:10,251 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:43:10,983 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:43:11,713 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:43:17,085 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:43:17,755 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:43:18,425 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:43:19,096 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:43:19,781 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:43:20,529 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:43:21,230 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:43:21,932 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:43:22,681 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:43:23,631 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:43:24,316 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:43:25,093 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:43:25,781 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:43:31,405 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:43:32,279 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:43:32,949 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:43:33,726 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:43:34,475 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:43:35,193 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:43:35,926 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:43:36,579 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:43:37,295 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:43:38,058 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:43:38,709 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:43:39,392 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:43:40,108 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:43:45,273 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:43:46,115 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:43:46,692 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:43:47,392 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:43:48,216 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:43:49,025 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:43:49,755 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:43:50,317 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:43:51,048 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:43:56,690 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-13 00:43:56,691 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-13 00:43:58,746 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-13 00:43:58,774 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-13 00:43:58,778 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-13 00:43:58,778 - qmt_trading.trading_executor - WARNING - 非模拟交易模式，无法初始化模拟账户
2025-06-13 00:43:58,778 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:43:58,783 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:43:58,784 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-13 00:43:58 
2025-06-13 00:43:58,784 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:43:58,784 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-13 00:43:58,785 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:43:58,785 - qmt_trading.main - INFO - 系统初始化完成
2025-06-13 00:43:58,785 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-13 00:43:58,786 - qmt_trading.main - INFO - 下载 001298 的历史数据
2025-06-13 00:43:58,891 - qmt_trading.data_manager - WARNING - 001298 过滤了 1 行空date数据
2025-06-13 00:43:59,911 - qmt_trading.main - INFO - 下载 002261 的历史数据
2025-06-13 00:44:01,045 - qmt_trading.main - INFO - 下载 300638 的历史数据
2025-06-13 00:44:02,180 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-13 00:44:02,181 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-13 00:44:02,183 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-13 00:44:02,184 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-13 00:44:02,185 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-13 00:44:02,185 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-13 00:44:02,196 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-13 00:44:02,289 - qmt_trading.main - INFO - 启动策略线程
2025-06-13 00:44:02,414 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-13 00:44:02,507 - qmt_trading.main - INFO - 启动卖出策略线程
2025-06-13 00:44:02,601 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环开始
2025-06-13 00:44:02,616 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已启动
2025-06-13 00:44:02,758 - qmt_trading.main - INFO - 启动日志清理线程
2025-06-13 00:44:02,882 - qmt_trading.main - INFO - 启动Web服务器线程
2025-06-13 00:44:02,991 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-06-13 00:44:03,022 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-13 00:44:12,127 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:44:12,831 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:44:13,578 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:44:14,326 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:44:15,123 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:44:15,824 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:44:16,494 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:44:17,228 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:44:18,037 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:44:18,770 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:44:19,597 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:44:20,207 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:44:20,987 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:44:26,073 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:44:26,804 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:44:27,443 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:44:28,143 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:44:28,876 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:44:29,639 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:45:12,542 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-13 00:45:12,542 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-13 00:45:14,601 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-13 00:45:14,633 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-13 00:45:14,636 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-13 00:45:14,637 - qmt_trading.trading_executor - WARNING - 非模拟交易模式，无法初始化模拟账户
2025-06-13 00:45:14,637 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:45:14,644 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:45:14,645 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-13 00:45:14 
2025-06-13 00:45:14,645 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:45:14,646 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-13 00:45:14,647 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:45:14,647 - qmt_trading.main - INFO - 系统初始化完成
2025-06-13 00:45:14,647 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-13 00:45:14,648 - qmt_trading.main - INFO - 下载 001298 的历史数据
2025-06-13 00:45:14,756 - qmt_trading.data_manager - WARNING - 001298 过滤了 1 行空date数据
2025-06-13 00:45:15,769 - qmt_trading.main - INFO - 下载 002261 的历史数据
2025-06-13 00:45:16,889 - qmt_trading.main - INFO - 下载 300638 的历史数据
2025-06-13 00:45:18,004 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-13 00:45:18,005 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-13 00:45:18,008 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-13 00:45:18,008 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-13 00:45:18,009 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-13 00:45:18,010 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-13 00:45:18,020 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-13 00:45:18,113 - qmt_trading.main - INFO - 启动策略线程
2025-06-13 00:45:18,254 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-13 00:45:18,348 - qmt_trading.main - INFO - 启动卖出策略线程
2025-06-13 00:45:18,457 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环开始
2025-06-13 00:45:18,472 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已启动
2025-06-13 00:45:18,675 - qmt_trading.main - INFO - 启动日志清理线程
2025-06-13 00:45:18,799 - qmt_trading.main - INFO - 启动Web服务器线程
2025-06-13 00:45:18,939 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-06-13 00:45:18,955 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-13 00:45:26,200 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:45:26,900 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:45:27,540 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:45:28,383 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:45:28,976 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:45:29,381 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:45:30,098 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:45:30,783 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:45:31,515 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:45:32,090 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:45:32,619 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:45:33,334 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:45:34,083 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:45:39,785 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:45:40,520 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:45:41,080 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:45:41,893 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:45:42,626 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:45:43,357 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:45:44,105 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:45:44,836 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:45:45,459 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:45:46,145 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:45:46,754 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:45:47,471 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:45:48,251 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:46:20,514 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-13 00:46:20,515 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-13 00:46:22,570 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-13 00:46:22,600 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-13 00:46:22,603 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-13 00:46:22,603 - qmt_trading.trading_executor - WARNING - 非模拟交易模式，无法初始化模拟账户
2025-06-13 00:46:22,603 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:46:22,609 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:46:22,609 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-13 00:46:22 
2025-06-13 00:46:22,609 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:46:22,610 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-13 00:46:22,610 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:46:22,610 - qmt_trading.main - INFO - 系统初始化完成
2025-06-13 00:46:22,611 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-13 00:46:22,612 - qmt_trading.main - INFO - 下载 001298 的历史数据
2025-06-13 00:46:22,720 - qmt_trading.data_manager - WARNING - 001298 过滤了 1 行空date数据
2025-06-13 00:46:23,731 - qmt_trading.main - INFO - 下载 002261 的历史数据
2025-06-13 00:46:24,866 - qmt_trading.main - INFO - 下载 300638 的历史数据
2025-06-13 00:46:26,001 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-13 00:46:26,001 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-13 00:46:26,005 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-13 00:46:26,005 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-13 00:46:26,006 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-13 00:46:26,006 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-13 00:46:26,016 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-13 00:46:26,109 - qmt_trading.main - INFO - 启动策略线程
2025-06-13 00:46:26,250 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-13 00:46:26,328 - qmt_trading.main - INFO - 启动卖出策略线程
2025-06-13 00:46:26,437 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环开始
2025-06-13 00:46:26,468 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已启动
2025-06-13 00:46:26,592 - qmt_trading.main - INFO - 启动日志清理线程
2025-06-13 00:46:26,778 - qmt_trading.main - INFO - 启动Web服务器线程
2025-06-13 00:46:27,012 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-13 00:46:27,027 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-06-13 00:46:32,575 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:46:33,400 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:46:34,052 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:46:34,862 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:46:35,547 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:46:36,186 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:46:37,027 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:46:37,668 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:46:38,274 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:48:33,990 - qmt_trading.test_监控持仓卖出 - INFO - 持仓监控卖出测试程序启动
2025-06-13 00:48:33,994 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-13 00:48:33,995 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-13 00:48:33,995 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-13 00:48:34,026 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-13 00:48:34,029 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-13 00:48:34,030 - qmt_trading.trading_executor - WARNING - 非模拟交易模式，无法初始化模拟账户
2025-06-13 00:48:34,030 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:48:34,030 - qmt_trading.test_监控持仓卖出 - INFO - 持仓监控卖出模块初始化完成
2025-06-13 00:48:34,030 - qmt_trading.test_监控持仓卖出 - INFO - ============================================================
2025-06-13 00:48:34,031 - qmt_trading.test_监控持仓卖出 - INFO - 启动持仓监控卖出系统
2025-06-13 00:48:34,031 - qmt_trading.test_监控持仓卖出 - INFO - ============================================================
2025-06-13 00:48:34,032 - qmt_trading.test_监控持仓卖出 - INFO - 当前卖出策略配置:
2025-06-13 00:48:34,032 - qmt_trading.test_监控持仓卖出 - INFO -   - 模拟交易模式: False
2025-06-13 00:48:34,032 - qmt_trading.test_监控持仓卖出 - INFO -   - 允许卖出: True
2025-06-13 00:48:34,033 - qmt_trading.test_监控持仓卖出 - INFO -   - 监控间隔: 1秒
2025-06-13 00:48:34,033 - qmt_trading.test_监控持仓卖出 - INFO - 
2025-06-13 00:48:34,034 - qmt_trading.test_监控持仓卖出 - INFO - 8条卖出规则配置:
2025-06-13 00:48:34,034 - qmt_trading.test_监控持仓卖出 - INFO -   规则1 - 高开回落: 涨幅>3.0%, 回落>2.0%
2025-06-13 00:48:34,034 - qmt_trading.test_监控持仓卖出 - INFO -   规则2 - 低开回落: 涨幅>5.0%, 回落>3.0%
2025-06-13 00:48:34,035 - qmt_trading.test_监控持仓卖出 - INFO -   规则3 - 低开涨幅回落: 涨幅>6.0%, 回落>3.0%
2025-06-13 00:48:34,035 - qmt_trading.test_监控持仓卖出 - INFO -   规则4 - 通用涨幅回落: 涨幅>8.0%, 回落>4.0%
2025-06-13 00:48:34,035 - qmt_trading.test_监控持仓卖出 - INFO -   规则5 - 尾盘卖出: 启用
2025-06-13 00:48:34,036 - qmt_trading.test_监控持仓卖出 - INFO -   规则6 - 涨停炸板: 封单阈值<5,000,000元
2025-06-13 00:48:34,036 - qmt_trading.test_监控持仓卖出 - INFO -   规则7 - 委托撤单: 超时>2秒
2025-06-13 00:48:34,036 - qmt_trading.test_监控持仓卖出 - INFO -   规则8 - 最大回撤: 回撤>5.0%
2025-06-13 00:48:34,037 - qmt_trading.test_监控持仓卖出 - INFO - 
2025-06-13 00:48:35,460 - qmt_trading.test_监控持仓卖出 - INFO - === 原始持仓数据调试 ===
2025-06-13 00:48:35,461 - qmt_trading.test_监控持仓卖出 - INFO - 原始数据 - 股票: 001298, 成本价: 23.12, 当前价: 21.94, 盈亏比例: -5.1
2025-06-13 00:48:35,461 - qmt_trading.test_监控持仓卖出 - INFO - 原始数据 - 股票: 002261, 成本价: 31.38, 当前价: 29.96, 盈亏比例: -4.53
2025-06-13 00:48:35,462 - qmt_trading.test_监控持仓卖出 - INFO - 原始数据 - 股票: 300638, 成本价: 27.31, 当前价: 26.07, 盈亏比例: -4.54
2025-06-13 00:48:35,462 - qmt_trading.test_监控持仓卖出 - INFO - === 原始数据调试结束 ===
2025-06-13 00:48:35,463 - qmt_trading.test_监控持仓卖出 - INFO - [94m[1m📊 当前持仓 (3只):[0m
2025-06-13 00:48:35,463 - qmt_trading.test_监控持仓卖出 - INFO - [94m==============================================================================================================[0m
2025-06-13 00:48:35,464 - qmt_trading.test_监控持仓卖出 - INFO - [1m[4m股票代码     股票名称       数量       成本价      当前价      盈亏金额       盈亏%      市值           可用       状态  [0m
2025-06-13 00:48:35,464 - qmt_trading.test_监控持仓卖出 - INFO - [94m==============================================================================================================[0m
2025-06-13 00:48:35,465 - qmt_trading.test_监控持仓卖出 - INFO - 获取 001298 最新价格 (xtdata.get_full_tick): 21.94
2025-06-13 00:48:35,466 - qmt_trading.test_监控持仓卖出 - INFO - 计算 001298 盈亏: 成本价=23.12, 当前价=21.94, 盈亏比例=-5.1%, 盈亏金额=-826.0
2025-06-13 00:48:35,466 - qmt_trading.test_监控持仓卖出 - INFO - [96m001298  [0m [97m好上好       [0m [97m700     [0m [97m23.12   [0m [97m21.94   [0m [91m-826.00   [0m [91m-5.10  %[0m [97m15358.00    [0m [97m700     [0m [91m📉   [0m
2025-06-13 00:48:35,467 - qmt_trading.test_监控持仓卖出 - INFO - 获取 002261 最新价格 (xtdata.get_full_tick): 29.96
2025-06-13 00:48:35,468 - qmt_trading.test_监控持仓卖出 - INFO - 计算 002261 盈亏: 成本价=31.38, 当前价=29.96, 盈亏比例=-4.53%, 盈亏金额=-142.0
2025-06-13 00:48:35,468 - qmt_trading.test_监控持仓卖出 - INFO - [96m002261  [0m [97m拓维信息      [0m [97m100     [0m [97m31.38   [0m [97m29.96   [0m [91m-142.00   [0m [91m-4.53  %[0m [97m2996.00     [0m [97m100     [0m [91m📉   [0m
2025-06-13 00:48:35,469 - qmt_trading.test_监控持仓卖出 - INFO - 获取 300638 最新价格 (xtdata.get_full_tick): 26.07
2025-06-13 00:48:35,469 - qmt_trading.test_监控持仓卖出 - INFO - 计算 300638 盈亏: 成本价=27.31, 当前价=26.07, 盈亏比例=-4.54%, 盈亏金额=-372.0
2025-06-13 00:48:35,470 - qmt_trading.test_监控持仓卖出 - INFO - [96m300638  [0m [97m广和通       [0m [97m300     [0m [97m27.31   [0m [97m26.07   [0m [91m-372.00   [0m [91m-4.54  %[0m [97m7821.00     [0m [97m300     [0m [91m📉   [0m
2025-06-13 00:48:35,470 - qmt_trading.test_监控持仓卖出 - INFO - [94m==============================================================================================================[0m
2025-06-13 00:48:35,471 - qmt_trading.test_监控持仓卖出 - INFO - [95m[1m💰 总计:[0m [97m成本=27,515.00元[0m, [97m市值=26,175.00元[0m, [91m[1m盈亏=-1,340.00元(-4.87%)[0m [91m📉 亏损[0m
2025-06-13 00:48:35,471 - qmt_trading.test_监控持仓卖出 - INFO - 
2025-06-13 00:48:35,472 - qmt_trading.test_监控持仓卖出 - INFO - 持仓监控循环开始
2025-06-13 00:48:35,472 - qmt_trading.test_监控持仓卖出 - INFO - 持仓监控线程已启动，按 Ctrl+C 停止监控
2025-06-13 00:49:05,477 - qmt_trading.test_监控持仓卖出 - INFO - ==================================================
2025-06-13 00:49:05,478 - qmt_trading.test_监控持仓卖出 - INFO - 监控统计 (运行时间: 0:00:30.005015)
2025-06-13 00:49:05,478 - qmt_trading.test_监控持仓卖出 - INFO -   - 总检查次数: 0
2025-06-13 00:49:05,478 - qmt_trading.test_监控持仓卖出 - INFO -   - 卖出信号: 0
2025-06-13 00:49:05,479 - qmt_trading.test_监控持仓卖出 - INFO -   - 成功卖出: 0
2025-06-13 00:49:05,479 - qmt_trading.test_监控持仓卖出 - INFO -   - 失败卖出: 0
2025-06-13 00:49:05,479 - qmt_trading.test_监控持仓卖出 - INFO - ==================================================
2025-06-13 00:49:27,780 - qmt_trading.test_监控持仓卖出 - INFO - 收到停止信号，正在停止监控...
2025-06-13 00:51:07,319 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-13 00:51:07,320 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-13 00:51:09,382 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-13 00:51:09,412 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-13 00:51:09,414 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-13 00:51:09,415 - qmt_trading.trading_executor - WARNING - 非模拟交易模式，无法初始化模拟账户
2025-06-13 00:51:09,415 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:51:09,420 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:51:09,421 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-13 00:51:09 
2025-06-13 00:51:09,421 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:51:09,422 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-13 00:51:09,422 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:51:09,422 - qmt_trading.main - INFO - 系统初始化完成
2025-06-13 00:51:09,423 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-13 00:51:09,423 - qmt_trading.main - INFO - 下载 001298 的历史数据
2025-06-13 00:51:09,536 - qmt_trading.data_manager - WARNING - 001298 过滤了 1 行空date数据
2025-06-13 00:51:10,557 - qmt_trading.main - INFO - 下载 002261 的历史数据
2025-06-13 00:51:11,690 - qmt_trading.main - INFO - 下载 300638 的历史数据
2025-06-13 00:51:12,837 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-13 00:51:12,837 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-13 00:51:12,841 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-13 00:51:12,841 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-13 00:51:12,842 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-13 00:51:12,842 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-13 00:51:12,852 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-13 00:51:12,930 - qmt_trading.main - INFO - 启动策略线程
2025-06-13 00:51:13,054 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-13 00:51:13,147 - qmt_trading.main - ERROR - 系统运行时出错: module 'config' has no attribute 'ENABLE_SELL_STRATEGY'
2025-06-13 00:51:13,179 - qmt_trading.main - INFO - 开始清理资源...
2025-06-13 00:51:13,241 - qmt_trading.main - INFO - 停止 data_thread...
2025-06-13 00:51:13,878 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-06-13 00:51:13,956 - qmt_trading.main - INFO - 停止 position_thread...
2025-06-13 00:51:14,034 - qmt_trading.position_manager - INFO - 持仓监控线程已停止
2025-06-13 00:51:14,034 - qmt_trading.main - INFO - 停止 strategy_thread...
2025-06-13 00:51:15,044 - qmt_trading.strategy - INFO - 策略线程已停止
2025-06-13 00:51:15,045 - qmt_trading.main - ERROR - 关闭交易策略时出错: 'TradingStrategy' object has no attribute 'close'
2025-06-13 00:51:15,045 - qmt_trading.trading_executor - INFO - 交易执行器已关闭
2025-06-13 00:51:15,046 - qmt_trading.data_manager - INFO - 数据库连接已关闭
2025-06-13 00:51:15,046 - qmt_trading.data_manager - ERROR - 断开行情连接出错: module 'xtquant.xtdata' has no attribute 'disconnect'
2025-06-13 00:51:15,046 - qmt_trading.main - INFO - 资源清理完成
2025-06-13 00:51:15,046 - qmt_trading.main - INFO - 系统已退出
2025-06-13 00:52:15,417 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-13 00:52:15,418 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-13 00:52:17,466 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-13 00:52:17,495 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-13 00:52:17,498 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-13 00:52:17,498 - qmt_trading.trading_executor - WARNING - 非模拟交易模式，无法初始化模拟账户
2025-06-13 00:52:17,499 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:52:17,503 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:52:17,504 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-13 00:52:17 
2025-06-13 00:52:17,504 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:52:17,505 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-13 00:52:17,505 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:52:17,505 - qmt_trading.main - INFO - 系统初始化完成
2025-06-13 00:52:17,506 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-13 00:52:17,506 - qmt_trading.main - INFO - 下载 001298 的历史数据
2025-06-13 00:52:17,633 - qmt_trading.data_manager - WARNING - 001298 过滤了 1 行空date数据
2025-06-13 00:52:18,644 - qmt_trading.main - INFO - 下载 002261 的历史数据
2025-06-13 00:52:19,778 - qmt_trading.main - INFO - 下载 300638 的历史数据
2025-06-13 00:52:20,912 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-13 00:52:20,913 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-13 00:52:20,915 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-13 00:52:20,916 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-13 00:52:20,917 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-13 00:52:20,917 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-13 00:52:20,928 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-13 00:52:21,021 - qmt_trading.main - INFO - 启动策略线程
2025-06-13 00:52:21,161 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-13 00:52:21,254 - qmt_trading.main - ERROR - 系统运行时出错: module 'config' has no attribute 'ENABLE_SELL_STRATEGY'
2025-06-13 00:52:21,347 - qmt_trading.main - INFO - 开始清理资源...
2025-06-13 00:52:21,440 - qmt_trading.main - INFO - 停止 data_thread...
2025-06-13 00:52:21,937 - qmt_trading.data_manager - INFO - 数据更新线程已停止
2025-06-13 00:52:22,015 - qmt_trading.main - INFO - 停止 position_thread...
2025-06-13 00:52:22,093 - qmt_trading.position_manager - INFO - 持仓监控线程已停止
2025-06-13 00:52:22,093 - qmt_trading.main - INFO - 停止 strategy_thread...
2025-06-13 00:52:22,139 - qmt_trading.strategy - INFO - 策略线程已停止
2025-06-13 00:52:22,140 - qmt_trading.main - ERROR - 关闭交易策略时出错: 'TradingStrategy' object has no attribute 'close'
2025-06-13 00:52:22,140 - qmt_trading.trading_executor - INFO - 交易执行器已关闭
2025-06-13 00:52:22,140 - qmt_trading.data_manager - INFO - 数据库连接已关闭
2025-06-13 00:52:22,140 - qmt_trading.data_manager - ERROR - 断开行情连接出错: module 'xtquant.xtdata' has no attribute 'disconnect'
2025-06-13 00:52:22,141 - qmt_trading.main - INFO - 资源清理完成
2025-06-13 00:52:22,142 - qmt_trading.main - INFO - 系统已退出
2025-06-13 00:54:29,590 - qmt_trading.data_manager - INFO - 已连接数据库: data\trading.db
2025-06-13 00:54:29,591 - qmt_trading.data_manager - INFO - 数据表结构已创建
2025-06-13 00:54:31,642 - qmt_trading.data_manager - INFO - xtquant行情服务连接成功
2025-06-13 00:54:31,671 - qmt_trading.position_manager - INFO - 内存数据库表结构已创建
2025-06-13 00:54:31,674 - qmt_trading.position_manager - INFO - 定时同步线程已启动
2025-06-13 00:54:31,674 - qmt_trading.trading_executor - WARNING - 非模拟交易模式，无法初始化模拟账户
2025-06-13 00:54:31,674 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:54:31,680 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:54:31,680 - qmt_trading.main - INFO - = QMT量化交易系统启动 - 2025-06-13 00:54:31 
2025-06-13 00:54:31,681 - qmt_trading.main - INFO - ==================================================
2025-06-13 00:54:31,681 - qmt_trading.main - INFO - 开始初始化系统...
2025-06-13 00:54:31,681 - qmt_trading.sell_strategy - INFO - 卖出策略模块初始化完成
2025-06-13 00:54:31,681 - qmt_trading.main - INFO - 系统初始化完成
2025-06-13 00:54:31,681 - qmt_trading.main - INFO - 开始下载初始数据...
2025-06-13 00:54:31,682 - qmt_trading.main - INFO - 下载 001298 的历史数据
2025-06-13 00:54:31,798 - qmt_trading.data_manager - WARNING - 001298 过滤了 1 行空date数据
2025-06-13 00:54:32,819 - qmt_trading.main - INFO - 下载 002261 的历史数据
2025-06-13 00:54:33,954 - qmt_trading.main - INFO - 下载 300638 的历史数据
2025-06-13 00:54:35,088 - qmt_trading.main - INFO - 初始数据下载完成
2025-06-13 00:54:35,089 - qmt_trading.main - INFO - 开始计算初始指标...
2025-06-13 00:54:35,092 - qmt_trading.main - INFO - 初始指标计算完成
2025-06-13 00:54:35,093 - qmt_trading.main - INFO - 启动数据更新线程
2025-06-13 00:54:35,093 - qmt_trading.data_manager - INFO - 数据更新线程已启动
2025-06-13 00:54:35,094 - qmt_trading.main - INFO - 启动持仓监控线程
2025-06-13 00:54:35,104 - qmt_trading.position_manager - INFO - 持仓监控线程已启动
2025-06-13 00:54:35,198 - qmt_trading.main - INFO - 启动策略线程
2025-06-13 00:54:35,322 - qmt_trading.strategy - INFO - 策略线程已启动（独立于自动交易开关）
2025-06-13 00:54:35,400 - qmt_trading.main - INFO - 启动卖出策略线程
2025-06-13 00:54:35,509 - qmt_trading.sell_strategy - INFO - 卖出策略监控循环开始
2025-06-13 00:54:35,524 - qmt_trading.sell_strategy - INFO - 卖出策略监控线程已启动
2025-06-13 00:54:35,696 - qmt_trading.main - INFO - 启动日志清理线程
2025-06-13 00:54:35,851 - qmt_trading.main - INFO - 启动Web服务器线程
2025-06-13 00:54:35,976 - qmt_trading.main - INFO - 系统启动完成，按 Ctrl+C 退出
2025-06-13 00:54:35,992 - qmt_trading.web_server - INFO - 实时推送线程已启动
2025-06-13 00:54:41,911 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:54:42,611 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:54:43,251 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:54:43,969 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:54:44,669 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:54:45,323 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:54:46,133 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:54:46,880 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:54:47,594 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:54:48,340 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:54:49,008 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:54:49,693 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:54:50,409 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:54:55,655 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:54:56,388 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:54:57,105 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:54:57,649 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:54:58,351 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:54:59,067 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:54:59,813 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:55:00,649 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
2025-06-13 00:55:01,319 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 last_update 的最新行情为空
2025-06-13 00:55:02,019 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 open_date 的最新行情为空
2025-06-13 00:55:02,641 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_triggered 的最新行情为空
2025-06-13 00:55:03,355 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 highest_price 的最新行情为空
2025-06-13 00:55:04,149 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stop_loss_price 的最新行情为空
2025-06-13 00:55:09,234 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_code 的最新行情为空
2025-06-13 00:55:10,090 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 stock_name 的最新行情为空
2025-06-13 00:55:10,730 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 volume 的最新行情为空
2025-06-13 00:55:11,447 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 available 的最新行情为空
2025-06-13 00:55:12,147 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 cost_price 的最新行情为空
2025-06-13 00:55:12,739 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 current_price 的最新行情为空
2025-06-13 00:55:13,422 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 market_value 的最新行情为空
2025-06-13 00:55:13,997 - qmt_trading.data_manager - WARNING - 使用Mootdx获取 profit_ratio 的最新行情为空
